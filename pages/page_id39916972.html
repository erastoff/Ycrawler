<!DOCTYPE html> <html lang="en-us" dir="ltr"> <head><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="KeThzeyMOr"><meta name="baidu-site-verification" content="code-NIlrS7gNhx"><meta charset="UTF-8"><meta name="description" content="Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"><title>R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier</title><meta name="title" content="R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"><meta name="msvalidate.01" content="CF295E1604697F9CAD18B5A232E871F6"><meta class="swiftype" name="language" data-type="string" content="en"><script src="/cdn-cgi/zaraz/i.js" type="text/javascript" referrerpolicy="origin"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-32x32.png"><link rel="mask-icon" href="/images/favicon-32x32.png" color="#f78100"><link rel="stylesheet" href="/themes/prism.css"><link rel="sitemap" href="/sitemap.xml"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="canonical" href="https://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access"><!-- General Meta Tags --> <meta property="article:published_time" content="2024-04-03T14:00:10.000+01:00"> <meta property="article:modified_time" content="2024-04-03T13:59:02.000+01:00">  <meta property="article:tag" content="Developer Week"><meta property="article:tag" content="Developers"><meta property="article:tag" content="R2 Storage"><meta property="article:tag" content="Product News"><meta property="article:tag" content="Developer Platform"> <meta property="article:publisher" content="https://www.facebook.com/cloudflare"> <!-- Facebook Meta Tags --> <meta property="og:site_name" content="The Cloudflare Blog"> <meta property="og:type" content="article"> <meta property="og:title" content="R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"> <meta property="og:description" content="Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"> <meta property="og:url" content="https://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="628"> <!-- Twitter/X Meta Tags --> <meta name="twitter:title" content="R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"> <meta name="twitter:description" content="Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier"> <meta name="twitter:url" content="https://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access"> <meta name="twitter:card" content="summary_large_image">  <meta name="twitter:label1" content="Written by"> <meta name="twitter:data1" content="Matt DeBoard"> <meta name="twitter:label2" content="Filed under"><meta name="twitter:data2" content="Developer Week,Developers,R2 Storage,Product News,Developer Platform"> <meta name="twitter:site" content="@cloudflare">  <meta property="og:image" content="http://blog.cloudflare.com/content/images/2024/04/R2-adds-event-notifications--support-for-migrations-from-Google-Cloud-Storage--and-an-infrequent-access-storage-tier-OG-1.png"> <meta name="twitter:image" content="http://blog.cloudflare.com/content/images/2024/04/R2-adds-event-notifications--support-for-migrations-from-Google-Cloud-Storage--and-an-infrequent-access-storage-tier-OG.png"> <link rel="stylesheet" href="/_astro/index.Co5alr23.css" /><script type="module" src="/_astro/hoisted.Byv_OtGt.js"></script></head><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="tee4u" prefix="r3" component-url="/_astro/Navigation.DhfR5Qsr.js" component-export="Navigation" renderer-url="/_astro/client.18JKDFkt.js" props="{&quot;title&quot;:[0,&quot;The Cloudflare Blog&quot;],&quot;logo&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2022/10/CF_logo_stacked_blktype.png&quot;],&quot;pagesStore&quot;:[0,{&quot;page&quot;:[0,&quot;Post&quot;],&quot;slug&quot;:[0,&quot;r2-events-gcs-migration-infrequent-access&quot;],&quot;translationsAvailable&quot;:[1,[]]}],&quot;locale&quot;:[0,&quot;en-us&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;NavigationComponent&quot;,&quot;value&quot;:true}" await-children=""><header class="flex flex-row flex-wrap justify-between items-flex-end mw8 center mv3 pl3 pr1"><div class="w-100 flex items-flex-end justify-between justify-start-l"><div class="w-100 tr flex justify-end"><div class="flex justify-between items-center"><span class="dn di-l pr1"><a href="https://dash.cloudflare.com/sign-up" class="f1 blue1 dn di-l b no-underline underline-hover" target="_blank" rel="noreferrer">Get Started Free</a></span><span class="f1 gray4 dn di-l pr1">|</span><span class="dn di-l pr1"><a target="_blank" href="https://www.cloudflare.com/plans/enterprise/contact/" class="f1 gray4 no-underline underline-hover pr1" rel="noreferrer">Contact Sales:</a><a href="tel:+18889935273" class="f1 gray4 no-underline underline-hover" dir="ltr">+1 (888) 993-5273</a></span></div></div></div><div class="w-100 w-50-l flex items-end nb5 nb1-l"><a href="/" class="header-logo mr4 dn db-l"><img class="header-logo" src="https://blog.cloudflare.com/content/images/2022/10/CF_logo_stacked_blktype.png" alt="The Cloudflare Blog" width="170" height="57"/></a><h2 class="mt0 mb1 dn di-l"><a href="/" class="fw5 f5 gray3 no-underline"><span class="dn di-l">The Cloudflare Blog</span></a></h2></div><div class="w-100 w-50-l dn db-l"><div class="w-100 tr mkto-sub-message"><p class="f2">Subscribe to receive notifications of new posts:</p></div><div class="w-100 tr"><div class="marketo-form-container"><form id="mktoForm_1653"><div class="top-subscribe-form-container"><div class="top-subscribe-form-field"><input placeholder="Email Address" class="top-subscribe-form-input" name="email" type="email"/></div><button class="top-subscribe-form-button" type="button">Subscribe</button></div></form></div></div></div></header><nav dir="ltr" class="bb b--black-10 db dn-l w-100 ph3 "><div class=" flex justify-between items-center" style="height:44px"><a href="/search"><img class="h-6 w-6" src="/images/magnifier.svg" alt="magnifier icon"/></a><button type="button" style="background:transparent;border:none"><img src="/images/hamburger.svg" alt="hamburger menu"/></button></div><div class="js-mobile-nav-container dn"><div class="flex flex-column flex-wrap bg-gray9 o-95 absolute w-90 ph3 z-1"><div class="pv3 ph2 tl"><a href="/tag/all-posts" class="no-underline gray1 f4 fw7">All Posts</a></div><div class="pv3 ph2 tl"><a href="/tag/product-news" class="no-underline gray1 f4 fw7">Product News</a></div><div class="pv3 ph2 tl"><a href="/tag/speed-and-reliability" class="no-underline gray1 f4 fw7">Speed &amp; Reliability</a></div><div class="pv3 ph2 tl"><a href="/tag/security" class="no-underline gray1 f4 fw7">Security</a></div><div class="pv3 ph2 tl"><a href="/tag/zero-trust" class="no-underline gray1 f4 fw7">Zero Trust</a></div><div class="pv3 ph2 tl"><a href="/tag/developers" class="no-underline gray1 f4 fw7">Developers</a></div><div class="pv3 ph2 tl"><a href="/tag/ai" class="no-underline gray1 f4 fw7">AI</a></div><div class="pv3 ph2 tl"><a href="/tag/policy" class="no-underline gray1 f4 fw7">Policy</a></div><div class="pv3 ph2 tl"><a href="/tag/partners" class="no-underline gray1 f4 fw7">Partners</a></div><div class="pv3 ph2 tl"><a href="/tag/life-at-cloudflare" class="no-underline gray1 f4 fw7">Life at Cloudflare</a></div></div></div></nav><nav id="nav" class="w-100 bb-0 bb-l b--black-10 z-1"><div id="desktop-nav-items-container" class="flex flex-wrap justify-between items-center mw8 center mv3 mv0-l"><div data-tag="all-posts" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/all-posts" class="no-underline gray1 f2 fw5 pv3">All Posts</a></div><div data-tag="product-news" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/product-news" class="no-underline gray1 f2 fw5 pv3">Product News</a></div><div data-tag="speed-and-reliability" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/speed-and-reliability" class="no-underline gray1 f2 fw5 pv3">Speed &amp; Reliability</a></div><div data-tag="security" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/security" class="no-underline gray1 f2 fw5 pv3">Security</a></div><div data-tag="zero-trust" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/zero-trust" class="no-underline gray1 f2 fw5 pv3">Zero Trust</a></div><div data-tag="developers" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/developers" class="no-underline gray1 f2 fw5 pv3">Developers</a></div><div data-tag="ai" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/ai" class="no-underline gray1 f2 fw5 pv3">AI</a></div><div data-tag="policy" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/policy" class="no-underline gray1 f2 fw5 pv3">Policy</a></div><div data-tag="partners" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/partners" class="no-underline gray1 f2 fw5 pv3">Partners</a></div><div data-tag="life-at-cloudflare" class="nav-item nav-item-desktop ml3 mr2 dn db-l pv3"><a href="/tag/life-at-cloudflare" class="no-underline gray1 f2 fw5 pv3">Life at Cloudflare</a></div><div class="nav-item ml2 mr3 dn db-l pv3" data-tag="search icon"><a href="/search"><img id="search-icon" class="h-6 w-6" src="/images/magnifier.svg" alt="magnifier icon"/></a></div></div></nav><!--astro:end--></astro-island><progress class="reading-progress" value="0" max="100" aria-label="Reading progress"></progress><astro-island uid="26mX7g" prefix="r1" component-url="/_astro/Post.Dg-D9CSI.js" component-export="Post" renderer-url="/_astro/client.18JKDFkt.js" props="{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;660b1dbda5fcdf000a08f3f2&quot;],&quot;uuid&quot;:[0,&quot;6cb383f0-0ea5-4d65-a083-91f062b68168&quot;],&quot;title&quot;:[0,&quot;R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier&quot;],&quot;slug&quot;:[0,&quot;r2-events-gcs-migration-infrequent-access&quot;],&quot;html&quot;:[0,&quot;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image3-1.png\&quot; class=\&quot;kg-image\&quot; alt=\&quot;R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier\&quot; loading=\&quot;lazy\&quot; width=\&quot;1800\&quot; height=\&quot;1013\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Weâre excited to announce three new features for Cloudflare R2, our zero &lt;a href=\&quot;https://www.cloudflare.com/learning/cloud/what-are-data-egress-fees/\&quot;&gt;egress fee&lt;/a&gt; &lt;a href=\&quot;https://www.cloudflare.com/learning/cloud/what-is-object-storage/\&quot;&gt;object storage&lt;/a&gt; platform:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=\&quot;#event-notifications-open-beta\&quot;&gt;Event Notifications&lt;/a&gt;: Automatically trigger Workers and take action when data in your R2 bucket changes.&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;#super-slurper-for-google-cloud-storage\&quot;&gt;Super Slurper for Google Cloud Storage&lt;/a&gt;: Easily migrate data from Google Cloud Storage to Cloudflare R2.&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;#infrequent-access-private-beta\&quot;&gt;Infrequent Access Private Beta&lt;/a&gt;: Pay less to store data that isnât frequently accessed. Now in private beta (&lt;a href=\&quot;https://forms.gle/hnwHFjaZktWyzmbd9\&quot;&gt;sign up now&lt;/a&gt;).&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=\&quot;event-notifications-open-beta\&quot;&gt;Event Notifications Open Beta&lt;/h2&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image1-1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1200\&quot; height=\&quot;384\&quot;&gt;&lt;/figure&gt;&lt;p&gt;The lifecycle of data often doesnât stop immediately after upload to an R2 bucket â event data may need to be transformed and loaded into a data warehouse, media files may need to go through a post-processing step, etc. Weâre releasing event notifications for R2 in open beta to enable building applications and workflows driven by your changing data.&lt;/p&gt;&lt;p&gt;Event notifications work by sending messages to your &lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;queue&lt;/a&gt; each time there is a change to your data. These messages are then received by a &lt;a href=\&quot;https://developers.cloudflare.com/queues/get-started/#5-create-your-consumer-worker\&quot;&gt;consumer Worker&lt;/a&gt; where you can then define any subsequent action that needs to be taken. &lt;/p&gt;&lt;p&gt;To get started enabling event notifications on your R2 bucket, you can run the following &lt;a href=\&quot;https://developers.cloudflare.com/workers/wrangler/\&quot;&gt;Wrangler&lt;/a&gt; command (replacing bucket_name and queue_name with your bucket and queue names respectively):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;wrangler r2 bucket notification create &amp;lt;bucket_name&amp;gt; --event-type object-create --queue &amp;lt;queue_name&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;For more information on how to set up event notifications on your R2 buckets today and limitations during beta, please refer to the &lt;a href=\&quot;https://developers.cloudflare.com/r2/buckets/event-notifications/\&quot;&gt;documentation&lt;/a&gt;.&lt;/p&gt;&lt;h2 id=\&quot;super-slurper-for-google-cloud-storage\&quot;&gt;Super Slurper for Google Cloud Storage&lt;/h2&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image4-1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;677\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=\&quot;https://developers.cloudflare.com/r2/data-migration/super-slurper/\&quot;&gt;Super Slurper&lt;/a&gt; can now migrate data from Google Cloud Storage (GCS) to &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;Cloudflare R2&lt;/a&gt;. We released Super Slurper &lt;a href=\&quot;http://blog.cloudflare.com/r2-super-slurper-ga\&quot;&gt;last year&lt;/a&gt; with the goal of making one-time comprehensive data migrations fast, reliable, and easy: thereâs no need to spin up migration VMs and implement complicated retry logic. Since then, thousands of developers have used Super Slurper to migrate petabytes of data from AWS S3 to R2. Now Google Cloud Storage customers can migrate data to Cloudflare R2 to benefit from Cloudflareâs zero egress fees, whether you are permanently moving data to another provider or not.&lt;/p&gt;&lt;p&gt;To get started migrating data from GCS:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;From the Cloudflare dashboard, select&lt;strong&gt; R2 &amp;gt; Data Migration&lt;/strong&gt;.&lt;/li&gt;&lt;li&gt;Select &lt;strong&gt;Migrate files&lt;/strong&gt;.&lt;/li&gt;&lt;li&gt;Select &lt;strong&gt;Google Cloud Storage&lt;/strong&gt; for the source bucket provider.&lt;/li&gt;&lt;li&gt;Enter your bucket name and associated credentials and select &lt;strong&gt;Next&lt;/strong&gt;.&lt;/li&gt;&lt;li&gt;Enter your R2 bucket name and associated credentials and select &lt;strong&gt;Next&lt;/strong&gt;.&lt;/li&gt;&lt;li&gt;After you finish reviewing the details of your migration, select &lt;strong&gt;Migrate files&lt;/strong&gt;.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;You can view the status of your migration job at any time on the dashboard. For more information on how to use Super Slurper, please refer to the documentation &lt;a href=\&quot;https://developers.cloudflare.com/r2/data-migration/super-slurper/\&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;h2 id=\&quot;infrequent-access-private-beta\&quot;&gt;Infrequent Access Private Beta&lt;/h2&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image2-1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;898\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Weâre excited to introduce the private beta of our new Infrequent Access storage class. For use cases that involve data that isnât frequently accessed (long tail user-generated content, logs, etc), Infrequent Access gives you the ability to pay less for storage while maintaining performance and durability.&lt;/p&gt;&lt;p&gt;Hereâs an example of how you can upload an object to your R2 bucket with the new Infrequent Access storage class using &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;Workers&lt;/a&gt;:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;# wrangler.toml\n[[r2_buckets]]\nbinding = &#39;MY_BUCKET&#39;\nbucket_name = &#39;&amp;lt;YOUR_BUCKET_NAME&amp;gt;&#39;\n\n# index.ts\nexport default {\n   async fetch(request: Request, env: Env): Promise&amp;lt;Response&amp;gt; {\n      if (request.method === \&quot;PUT\&quot;) {\n         await env.MY_BUCKET.put(\&quot;myobject\&quot;, request.body, storageClass: \&quot;InfrequentAccess\&quot;);\n         return new Response(\&quot;Put object successfully!\&quot;);\n      }\n      return new Response(\&quot;Not a PUT!\&quot;);\n   }\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In addition to uploading objects directly to Infrequent Access, you can define an &lt;a href=\&quot;https://developers.cloudflare.com/r2/buckets/object-lifecycles/\&quot;&gt;object lifecycle policy&lt;/a&gt; to move data to Infrequent Access after a period of time goes by and you no longer need to access your data as often. In the future, we plan to automatically optimize storage classes for data so you can avoid manually creating rules and better adapt to changing data access patterns.&lt;/p&gt;&lt;p&gt;For data stored in the Infrequent Access storage class, the pricing components will be similar to &lt;a href=\&quot;https://developers.cloudflare.com/r2/pricing/\&quot;&gt;what youâre used to with R2&lt;/a&gt;: storage, &lt;a href=\&quot;https://developers.cloudflare.com/r2/pricing/#class-a-operations\&quot;&gt;Class A operations&lt;/a&gt; (writes, lists), &lt;a href=\&quot;https://developers.cloudflare.com/r2/pricing/#class-b-operations\&quot;&gt;Class B operations&lt;/a&gt; (reads), and data retrieval (processing). Data retrieval is charged per GB when data in the Infrequent Access storage class is retrieved and is what allows us to provide storage at a lower price. It reflects the additional computational resources required to fetch data from underlying storage optimized for less frequent access. And when the time comes, and you do need to use your data, there are still no egress fees.&lt;/p&gt;&lt;!--kg-card-begin: html--&gt;&lt;style type=\&quot;text/css\&quot;&gt;\n.tg  {border-collapse:collapse;border-spacing:0;}\n.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg .tg-nltl{background-color:#f56b00;text-align:left;vertical-align:top}\n.tg .tg-0lax{text-align:left;vertical-align:top}\n&lt;/style&gt;\n&lt;table class=\&quot;tg\&quot; style=\&quot;undefined;table-layout: fixed; width: 100%\&quot;&gt;\n&lt;colgroup&gt;\n&lt;col style=\&quot;width: 252px\&quot;&gt;\n&lt;col style=\&quot;width: 201px\&quot;&gt;\n&lt;/colgroup&gt;\n&lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th class=\&quot;tg-nltl\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#FFF\&quot;&gt;Component&lt;/span&gt;&lt;/th&gt;\n    &lt;th class=\&quot;tg-nltl\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#FFF\&quot;&gt;Price&lt;/span&gt;&lt;/th&gt;\n  &lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Storage&lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;$0.01 / GB-month&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Class A Operations&lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;$9.00 / million requests&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Class B Operations&lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;$0.90 / million requests&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Data Retrieval (Processing)&lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;$0.01 / GB&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;Egress (or Data Transfer)&lt;/span&gt;&lt;/td&gt;\n    &lt;td class=\&quot;tg-0lax\&quot;&gt;&lt;span style=\&quot;font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent\&quot;&gt;$0 - No Charge&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;!--kg-card-end: html--&gt;&lt;h4 id=\&quot;are-you-interested-in-participating-in-the-private-beta-for-infrequent-access\&quot;&gt;Are you interested in participating in the private beta for Infrequent Access?&lt;/h4&gt;&lt;p&gt;&lt;a href=\&quot;https://forms.gle/hnwHFjaZktWyzmbd9\&quot;&gt;Join the private beta waitlist&lt;/a&gt; to get access.&lt;/p&gt;&lt;h3 id=\&quot;have-any-feedback\&quot;&gt;Have any feedback?&lt;/h3&gt;&lt;p&gt;We would love to hear from you! To share your feedback about R2 and our data migration services, please join the &lt;a href=\&quot;https://discord.com/invite/cloudflaredev\&quot;&gt;Cloudflare Developer Discord&lt;/a&gt;. If you&#39;re interested in learning more about R2, get started by visiting R2&#39;s &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;developer documentation&lt;/a&gt; or see how much you could save with our &lt;a href=\&quot;https://r2-calculator.cloudflare.com/\&quot;&gt;pricing calculator&lt;/a&gt;.&lt;/p&gt;&quot;],&quot;comment_id&quot;:[0,&quot;660b1dbda5fcdf000a08f3f2&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/image3-2.png&quot;],&quot;featured&quot;:[0,true],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;created_at&quot;:[0,&quot;2024-04-01T21:49:01.000+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2024-04-03T13:59:02.000+01:00&quot;],&quot;published_at&quot;:[0,&quot;2024-04-03T14:00:10.000+01:00&quot;],&quot;custom_excerpt&quot;:[0,&quot;Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier&quot;],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;custom_template&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;authors&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b2b37a5fcdf000a08f4b5&quot;],&quot;name&quot;:[0,&quot;Matt DeBoard&quot;],&quot;slug&quot;:[0,&quot;matt-deboard&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Screenshot-2024-04-01-at-3.49.38-PM.png&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/matt-deboard/&quot;]}],[0,{&quot;id&quot;:[0,&quot;660b208ca5fcdf000a08f40c&quot;],&quot;name&quot;:[0,&quot;Siddhant Sinha&quot;],&quot;slug&quot;:[0,&quot;siddhant&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/10847515_814593145295983_4997633009117868228.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/siddhant/&quot;]}],[0,{&quot;id&quot;:[0,&quot;612e947f5562bb02a7183b9a&quot;],&quot;name&quot;:[0,&quot;Mengqi Chen&quot;],&quot;slug&quot;:[0,&quot;mengqi&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2021/09/pic.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/mengqi/&quot;]}],[0,{&quot;id&quot;:[0,&quot;660b2cb5a5fcdf000a08f4ca&quot;],&quot;name&quot;:[0,&quot;Erin Thames&quot;],&quot;slug&quot;:[0,&quot;erin-thames&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/profilepic2-2.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/erin-thames/&quot;]}]]],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b1e26a5fcdf000a08f3fb&quot;],&quot;name&quot;:[0,&quot;#BLOG-2374&quot;],&quot;slug&quot;:[0,&quot;hash-blog-2374&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}],[0,{&quot;id&quot;:[0,&quot;607030964b1e0f03f340f2d8&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-week/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95204&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Developers-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Developers&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Developers&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;61ddc4d00bfc69000a525a5b&quot;],&quot;name&quot;:[0,&quot;R2 Storage&quot;],&quot;slug&quot;:[0,&quot;cloudflare-r2&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/cloudflare-r2/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a951ee&quot;],&quot;name&quot;:[0,&quot;Product News&quot;],&quot;slug&quot;:[0,&quot;product-news&quot;],&quot;description&quot;:[0,&quot;Product News (EN)&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Product News&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Product News&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/product-news/&quot;]}],[0,{&quot;id&quot;:[0,&quot;64a3e2b834124c000b00b717&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-platform/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65c0d31851a92e000adeae66&quot;],&quot;name&quot;:[0,&quot;#front-page&quot;],&quot;slug&quot;:[0,&quot;hash-front-page&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}]]],&quot;primary_author&quot;:[0,{&quot;id&quot;:[0,&quot;660b2b37a5fcdf000a08f4b5&quot;],&quot;name&quot;:[0,&quot;Matt DeBoard&quot;],&quot;slug&quot;:[0,&quot;matt-deboard&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Screenshot-2024-04-01-at-3.49.38-PM.png&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/matt-deboard/&quot;]}],&quot;primary_tag&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access/&quot;],&quot;excerpt&quot;:[0,&quot;Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier&quot;],&quot;reading_time&quot;:[0,4],&quot;access&quot;:[0,true],&quot;comments&quot;:[0,false],&quot;og_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/R2-adds-event-notifications--support-for-migrations-from-Google-Cloud-Storage--and-an-infrequent-access-storage-tier-OG-1.png&quot;],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/R2-adds-event-notifications--support-for-migrations-from-Google-Cloud-Storage--and-an-infrequent-access-storage-tier-OG.png&quot;],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,&quot;Weâre excited to announce three new features for Cloudflare R2: event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier&quot;],&quot;email_subject&quot;:[0,null],&quot;frontmatter&quot;:[0,null],&quot;feature_image_alt&quot;:[0,&quot;R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier&quot;],&quot;feature_image_caption&quot;:[0,null]}],&quot;relatedPosts&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660c7aeaa5fcdf000a08f886&quot;],&quot;uuid&quot;:[0,&quot;37fcbbaf-db2a-4671-9046-fe004e85e84b&quot;],&quot;title&quot;:[0,&quot;Improving Cloudflare Workers and D1 developer experience with Prisma ORM&quot;],&quot;slug&quot;:[0,&quot;prisma-orm-and-d1&quot;],&quot;html&quot;:[0,&quot;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image2-4.png\&quot; class=\&quot;kg-image\&quot; alt=\&quot;Improving Cloudflare Workers and D1 developer experience with Prisma ORM\&quot; loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1125\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Working with databases can be difficult. Developers face increasing data complexity and needs beyond simple create, read, update, and delete (CRUD) operations. Unfortunately, these issues also compound on themselves: developers have a harder time iterating in an increasingly complex environment. Cloudflare Workers and D1 help by reducing time spent managing infrastructure and deploying applications, and &lt;a href=\&quot;https://prisma.io\&quot;&gt;Prisma&lt;/a&gt; provides a great experience for your team to work and interact with data. Â &lt;/p&gt;&lt;p&gt;Together, Cloudflare and Prisma make it easier than ever to deploy globally available apps with a focus on developer experience. To further that goal, Prisma Object Relational Mapper (ORM) now natively supports Cloudflare Workers and D1 in Preview. With version &lt;code&gt;5.12.0&lt;/code&gt; of Prisma ORM you can now interact with your data stored in D1 from your Cloudflare Workers with the convenience of the Prisma Client API. Learn more and &lt;a href=\&quot;https://pris.ly/d/d1\&quot;&gt;try it out now&lt;/a&gt;.&lt;/p&gt;&lt;h3 id=\&quot;what-is-prisma\&quot;&gt;What is Prisma?&lt;/h3&gt;&lt;p&gt;From writing to debugging, SQL queries take a long time and slow developer productivity. Even before writing queries, modeling tables can quickly become unwieldy, and migrating data is a nerve-wracking process. Prisma ORM looks to resolve all of these issues by providing an intuitive data modeling language, an automated migration workflow, and a developer-friendly and type-safe client for JavaScript and TypeScript, allowing developers to focus on what they enjoy: developing!&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;https://prisma.io\&quot;&gt;Prisma&lt;/a&gt; is focused on making working with data easy. Alongside an ORM, Prisma offers &lt;a href=\&quot;https://www.prisma.io/data-platform/accelerate\&quot;&gt;Accelerate&lt;/a&gt; and &lt;a href=\&quot;https://www.prisma.io/data-platform/pulse\&quot;&gt;Pulse&lt;/a&gt;, products built on Cloudflare that cover needs from connection pooling, to query caching, to real-time type-safe database subscriptions.&lt;/p&gt;&lt;h2 id=\&quot;how-to-get-started-with-prisma-orm-cloudflare-workers-and-d1\&quot;&gt;&lt;strong&gt;How to get started with Prisma ORM, Cloudflare Workers, and D1&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;To get started with Prisma ORM and D1, first create a basic Cloudflare Workers app. This guide will start with the &lt;code&gt;âHello Worldâ&lt;/code&gt; Worker example app, but any Workers example app will work. If you donât have a project yet, start by creating a new one. Name your project something memorable, like &lt;code&gt;my-d1-prisma-app&lt;/code&gt; and select âHello Worldâ worker and TypeScript. For now, we will choose to not deploy and will wait until after we have set up D1 and Prisma ORM.&lt;/p&gt;&lt;p&gt;&lt;code&gt;npm create cloudflare@latest&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Next, move into your newly created project and make sure that dependencies are installed:&lt;/p&gt;&lt;p&gt;&lt;code&gt;cd my-d1-prisma-app &amp;amp;&amp;amp; npm install&lt;/code&gt;&lt;/p&gt;&lt;p&gt;After dependencies are installed, we can move on to the D1 setup.&lt;/p&gt;&lt;p&gt;First, create a new D1 database for your app.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npx wrangler d1 create prod-prisma-d1-app\n.\n.\n.\n\n[[d1_databases]]\nbinding = \&quot;DB\&quot; # i.e. available in your Worker on env.DB\ndatabase_name = \&quot;prod-prisma-d1-app\&quot;\ndatabase_id = \&quot;&amp;lt;unique-ID-for-your-database&amp;gt;\&quot;\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The section starting with &lt;code&gt;[[d1_databases]]&lt;/code&gt; is the binding configuration needed in your &lt;code&gt;wrangler.toml&lt;/code&gt; for your Worker to communicate with D1. Add that now:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// wrangler.toml\nname=\&quot;my-d1-prisma-app\&quot;\nmain = \&quot;src/index.ts\&quot;\ncompatibility_date = \&quot;2024-03-20\&quot;\ncompatibility_flags = [\&quot;nodejs_compat\&quot;]\n\n[[d1_databases]]\nbinding = \&quot;DB\&quot; # i.e. available in your Worker on env.DB\ndatabase_name = \&quot;prod-prisma-d1-app\&quot;\ndatabase_id = \&quot;&amp;lt;unique-ID-for-your-database&amp;gt;\&quot;\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Your application now has D1 available! Next, add Prisma ORM to manage your queries, schema and migrations! To add Prisma ORM, first make sure the latest version is installed. Prisma ORM versions 5.12.0 and up support Cloudflare Workers and D1.&lt;/p&gt;&lt;p&gt;&lt;code&gt;npm install prisma@latest @prisma/client@latest @prisma/adapter-d1&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Now run &lt;code&gt;npx prisma init&lt;/code&gt; in order to create the necessary files to start with. Since D1 uses SQLiteâs SQL dialect, we set the provider to be &lt;code&gt;sqlite&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;&lt;code&gt;npx prisma init --datasource-provider sqlite&lt;/code&gt;&lt;/p&gt;&lt;p&gt;This will create a few files, but the one to look at first is your &lt;a href=\&quot;https://www.prisma.io/docs/orm/prisma-schema/overview\&quot;&gt;Prisma schema file&lt;/a&gt;, available at &lt;code&gt;prisma/schema.prisma&lt;/code&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// schema.prisma\n// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = \&quot;prisma-client-js\&quot;\n}\n\ndatasource db {\n  provider = \&quot;sqlite\&quot;\n  url  = env(\&quot;DATABASE_URL\&quot;)\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Before you can create any models, first enable the &lt;code&gt;driverAdapters&lt;/code&gt; Preview feature. This will allow the Prisma Client to use an adapter to communicate with D1.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// schema.prisma\n// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = \&quot;prisma-client-js\&quot;\n+ previewFeatures = [\&quot;driverAdapters\&quot;]\n}\n\ndatasource db {\n  provider = \&quot;sqlite\&quot;\n  url      = env(\&quot;DATABASE_URL\&quot;)\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now you are ready to create your first model! In this app, you will be creating a âtickerâ, a mainstay of many classic Internet sites.&lt;/p&gt;&lt;p&gt;Add a new model to your schema, &lt;code&gt;Visit&lt;/code&gt;, which will track that an individual visited your site. A &lt;code&gt;Visit&lt;/code&gt; is a simple model that will have a unique ID and the time at which an individual visited your site.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider        = \&quot;prisma-client-js\&quot;\n  previewFeatures = [\&quot;driverAdapters\&quot;]\n}\n\ndatasource db {\n  provider = \&quot;sqlite\&quot;\n  url      = env(\&quot;DATABASE_URL\&quot;)\n}\n\n+ model Visit {\n+   id        Int      @id @default(autoincrement())\n+   visitTime DateTime @default(now())\n+ }\n\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now that you have a schema and a model, letâs create a migration. First use &lt;code&gt;wrangler&lt;/code&gt; to generate an empty migration file and &lt;code&gt;prisma migrate&lt;/code&gt; to fill it. If prompted, select âyesâ to create a migrations folder at the root of your project.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npx wrangler d1 migrations create prod-prisma-d1-app init\n âï¸ wrangler 3.36.0\n-------------------\nâ No migrations folder found. Set `migrations_dir` in wrangler.toml to choose a different path.\nOk to create /path/to/your/project/my-d1-prisma-app/migrations? â¦ yes\nâ Successfully created Migration &#39;0001_init.sql&#39;!\n\nThe migration is available for editing here\n/path/to/your/project/my-d1-prisma-app/migrations/0001_init.sql\n&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;npx prisma migrate diff --script --from-empty --to-schema-datamodel ./prisma/schema.prisma &amp;gt;&amp;gt; migrations/0001_init.sql&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The &lt;code&gt;npx prisma migrate diff&lt;/code&gt; command takes the difference between your database (which is currently empty) and the Prisma schema. It then saves this difference to a new file in the migrations directory.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// 0001_init.sql\n-- Migration number: 0001 \t 2024-03-21T22:15:50.184Z\n-- CreateTable\nCREATE TABLE \&quot;Visit\&quot; (\n    \&quot;id\&quot; INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n    \&quot;visitTime\&quot; DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now you can migrate your local and remote D1 database instances using &lt;code&gt;wrangler&lt;/code&gt; and re-generate your Prisma Client to begin making queries.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npx wrangler d1 migrations apply prod-prisma-d1-app --local\nnpx wrangler d1 migrations apply prod-prisma-d1-app --remote\nnpx prisma generate\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Make sure to import &lt;code&gt;PrismaClient&lt;/code&gt; and &lt;code&gt;PrismaD1&lt;/code&gt;, define the binding for your D1 database, and youâre ready to use Prisma in your application.&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;// src/index.ts\nimport { PrismaClient } from \&quot;@prisma/client\&quot;;\nimport { PrismaD1 } from \&quot;@prisma/adapter-d1\&quot;;\n\nexport interface Env {\n  DB: D1Database,\n}\n\nexport default {\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise&amp;lt;Response&amp;gt; {\n    const adapter = new PrismaD1(env.DB);\n    const prisma = new PrismaClient({ adapter });\n    const { pathname } = new URL(request.url);\n\n    if (pathname === &#39;/&#39;) {\n      const numVisitors = await prisma.visit.count();\n      return new Response(\n        `You have had ${numVisitors} visitors!`\n      );\n    }\n\n    return new Response(&#39;&#39;);\n  },\n};\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You may notice that thereâs always 0 visitors. Add another route to create a new visitor whenever someone visits the &lt;code&gt;/visit&lt;/code&gt; route&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;// src/index.ts\nimport { PrismaClient } from \&quot;@prisma/client\&quot;;\nimport { PrismaD1 } from \&quot;@prisma/adapter-d1\&quot;;\n\nexport interface Env {\n  DB: D1Database,\n}\n\nexport default {\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise&amp;lt;Response&amp;gt; {\n    const adapter = new PrismaD1(env.DB);\n    const prisma = new PrismaClient({ adapter });\n    const { pathname } = new URL(request.url);\n\n    if (pathname === &#39;/&#39;) {\n      const numVisitors = await prisma.visit.count();\n      return new Response(\n        `You have had ${numVisitors} visitors!`\n      );\n    } else if (pathname === &#39;/visit&#39;) {\n      const newVisitor = await prisma.visit.create({ data: {} });\n      return new Response(\n        `You visited at ${newVisitor.visitTime}. Thanks!`\n      );\n    }\n\n    return new Response(&#39;&#39;);\n  },\n};\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Your app is now set up to record visits and report how many visitors you have had!&lt;/p&gt;&lt;h2 id=\&quot;summary-and-further-reading\&quot;&gt;Summary and further reading&lt;/h2&gt;&lt;p&gt;We were able to build a simple app easily with Cloudflare Workers, D1 and Prisma ORM, but the benefits donât stop there! Check the &lt;a href=\&quot;https://www.prisma.io/docs\&quot;&gt;official documentation&lt;/a&gt; for information on using Prisma ORM with &lt;a href=\&quot;https://www.prisma.io/docs/orm/prisma-client/deployment/edge/deploy-to-cloudflare#d1\&quot;&gt;D1&lt;/a&gt; along with workflows for &lt;a href=\&quot;https://www.prisma.io/docs/orm/prisma-migrate/getting-started\&quot;&gt;migrating your data&lt;/a&gt;, and even &lt;a href=\&quot;https://www.prisma.io/docs/orm/prisma-client/client-extensions\&quot;&gt;extending the Prisma Client&lt;/a&gt; for your specific needs.&lt;/p&gt;&quot;],&quot;comment_id&quot;:[0,&quot;660c7aeaa5fcdf000a08f886&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/image2-5.png&quot;],&quot;featured&quot;:[0,false],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;created_at&quot;:[0,&quot;2024-04-02T22:38:50.000+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2024-04-03T14:03:09.000+01:00&quot;],&quot;published_at&quot;:[0,&quot;2024-04-03T14:03:09.000+01:00&quot;],&quot;custom_excerpt&quot;:[0,&quot;Together, Cloudflare and Prisma make it easier than ever to deploy globally available apps with a focus on developer experience. To further that goal, Prisma ORM now natively supports Cloudflare Workers and D1 in Preview&quot;],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;custom_template&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;authors&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660c7efda5fcdf000a08f8e9&quot;],&quot;name&quot;:[0,&quot;Jon Harrell (Guest Author)&quot;],&quot;slug&quot;:[0,&quot;jon-guest&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/1602519318329.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@jonbharrell&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/jon-guest/&quot;]}]]],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660c7b45a5fcdf000a08f88a&quot;],&quot;name&quot;:[0,&quot;#BLOG-2292&quot;],&quot;slug&quot;:[0,&quot;hash-blog-2292&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}],[0,{&quot;id&quot;:[0,&quot;607030964b1e0f03f340f2d8&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-week/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95204&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Developers-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Developers&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Developers&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;64a3e2b834124c000b00b717&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-platform/&quot;]}],[0,{&quot;id&quot;:[0,&quot;632af1846266f8000bd3e23c&quot;],&quot;name&quot;:[0,&quot;D1&quot;],&quot;slug&quot;:[0,&quot;d1&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/d1/&quot;]}],[0,{&quot;id&quot;:[0,&quot;660c7b46a5fcdf000a08f88b&quot;],&quot;name&quot;:[0,&quot;Prisma&quot;],&quot;slug&quot;:[0,&quot;prisma&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/prisma/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95263&quot;],&quot;name&quot;:[0,&quot;Partners&quot;],&quot;slug&quot;:[0,&quot;partners&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;https://blog-cloudflare-com-assets.storage.googleapis.com/2020/06/image-2-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Partners Blog&quot;],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/partners/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65c0d31851a92e000adeae66&quot;],&quot;name&quot;:[0,&quot;#front-page&quot;],&quot;slug&quot;:[0,&quot;hash-front-page&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}]]],&quot;primary_author&quot;:[0,{&quot;id&quot;:[0,&quot;660c7efda5fcdf000a08f8e9&quot;],&quot;name&quot;:[0,&quot;Jon Harrell (Guest Author)&quot;],&quot;slug&quot;:[0,&quot;jon-guest&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/1602519318329.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@jonbharrell&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/jon-guest/&quot;]}],&quot;primary_tag&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/prisma-orm-and-d1/&quot;],&quot;excerpt&quot;:[0,&quot;Together, Cloudflare and Prisma make it easier than ever to deploy globally available apps with a focus on developer experience. To further that goal, Prisma ORM now natively supports Cloudflare Workers and D1 in Preview&quot;],&quot;reading_time&quot;:[0,5],&quot;access&quot;:[0,true],&quot;comments&quot;:[0,false],&quot;og_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Improving-Cloudflare-Workers-and-D1-developer-experience-with-Prisma-ORM-OG-1.png&quot;],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Improving-Cloudflare-Workers-and-D1-developer-experience-with-Prisma-ORM-OG.png&quot;],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,&quot;Together, Cloudflare and Prisma make it easier than ever to deploy globally available apps with a focus on developer experience. To further that goal, Prisma ORM now natively supports Cloudflare Workers and D1 in Preview&quot;],&quot;email_subject&quot;:[0,null],&quot;frontmatter&quot;:[0,null],&quot;feature_image_alt&quot;:[0,&quot;Improving Cloudflare Workers and D1 developer experience with Prisma ORM&quot;],&quot;feature_image_caption&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;660b4591a5fcdf000a08f5a0&quot;],&quot;uuid&quot;:[0,&quot;6a9ae1e2-437f-4742-935a-bf2b230d4aea&quot;],&quot;title&quot;:[0,&quot;Data Anywhere with Pipelines, Event Notifications, and Workflows&quot;],&quot;slug&quot;:[0,&quot;data-anywhere-events-pipelines-durable-execution-workflows&quot;],&quot;html&quot;:[0,&quot;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image3-4.png\&quot; class=\&quot;kg-image\&quot; alt=\&quot;Data Anywhere with Pipelines, Event Notifications, and Workflows\&quot; loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1125\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Data is fundamental to any real-world application: the database storing your user data and inventory, the analytics tracking sales events and/or error rates, the object storage with your web assets and/or the Parquet files driving your data science team, and the vector database enabling semantic search or AI-powered recommendations for your users. &lt;/p&gt;&lt;p&gt;When we first announced Workers &lt;a href=\&quot;http://blog.cloudflare.com/introducing-cloudflare-workers\&quot;&gt;back in 2017&lt;/a&gt;, and then &lt;a href=\&quot;http://blog.cloudflare.com/introducing-workers-kv\&quot;&gt;Workers KV&lt;/a&gt;, &lt;a href=\&quot;http://blog.cloudflare.com/introducing-r2-object-storage\&quot;&gt;Cloudflare R2&lt;/a&gt;, and &lt;a href=\&quot;http://blog.cloudflare.com/introducing-d1\&quot;&gt;D1&lt;/a&gt;, it was obvious that the next big challenge to solve for developers would be in making it easier to ingest, store, and query the data needed to build scalable, full-stack applications.&lt;/p&gt;&lt;p&gt;To that end, as part of our quest to make building stateful, distributed-by-default applications even easier, weâre launching our new Event Notifications service; a preview of our upcoming streaming ingestion product, Pipelines; and a sneak peek into our take on durable execution, Workflows.&lt;/p&gt;&lt;h3 id=\&quot;event-based-architectures\&quot;&gt;Event-based architectures&lt;/h3&gt;&lt;p&gt;When youâre writing data â whether thatâs new data, changing existing data, or deleting old data â you often want to trigger other, asynchronous work to run in response. That could be processing user-driven uploads, updating search indexes as the underlying data changes, or removing associated rows in your SQL database when content is removed.&lt;/p&gt;&lt;p&gt;In order to make these event-driven workflows far easier to build across Cloudflare, weâre launching the first step towards a wider Event Notifications platform across Cloudflare, starting with notifications support in R2.&lt;/p&gt;&lt;p&gt;You can read more in the deep-dive on &lt;a href=\&quot;http://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access/\&quot;&gt;Event Notifications for R2&lt;/a&gt;, but in a nutshell: you can configure changes to content in any R2 bucket to write directly to a &lt;a href=\&quot;https://developers.cloudflare.com/queues/\&quot;&gt;Queue&lt;/a&gt;, allowing you to reliably consume those events in a Worker or to &lt;a href=\&quot;https://developers.cloudflare.com/queues/reference/pull-consumers/\&quot;&gt;pull from compute&lt;/a&gt; in a legacy cloud.&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image2-3.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1020\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Event Notifications for R2 are just the beginning, though. There are many kinds of events you might want to trigger as a developer â these are just some of the event types weâre planning to support:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Changes (writes) to key-value pairs in your &lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;Workers KV&lt;/a&gt; namespaces.&lt;/li&gt;&lt;li&gt;Updates to your &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;D1 databases&lt;/a&gt;, including changed rows or triggers.&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;https://developers.cloudflare.com/workers/configuration/versions-and-deployments/gradual-deployments/\&quot;&gt;Deployments&lt;/a&gt; to your Cloudflare Workers &lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Consuming event notifications from a single Worker is just &lt;em&gt;one&lt;/em&gt; approach, though. As you start to consume events, you may want to trigger multi-step &lt;em&gt;workflows&lt;/em&gt; that execute reliably, resume from errors or exceptions, and ensure that previous steps arenât duplicated or repeated unnecessarily. An event notification framework turns out to be just the thing needed to drive &lt;a href=\&quot;#durable-exectution\&quot;&gt;a workflow engine that &lt;em&gt;executes durably&lt;/em&gt;â¦&lt;/a&gt;&lt;/p&gt;&lt;h3 id=\&quot;making-it-even-easier-to-ingest-data\&quot;&gt;Making it even easier to ingest data&lt;/h3&gt;&lt;p&gt;When we launched &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;Cloudflare R2&lt;/a&gt;, our object storage service, we knew that supporting the de facto-standard &lt;a href=\&quot;https://developers.cloudflare.com/r2/api/s3/api/\&quot;&gt;S3 API&lt;/a&gt; was critical in order to allow developers to bring the tooling and services they already had over to R2. But the S3 API is designed to be simple: at its core, it provides APIs for upload, download, multipart and metadata operations, and many tools &lt;em&gt;donât&lt;/em&gt; support the S3 API.&lt;/p&gt;&lt;p&gt;What if you want to batch clickstream data from your web services so that itâs efficient (and cost-effective) to query by your analytics team? Or partition data by customer ID, merchant ID, or locale within a structured data format like JSON?&lt;/p&gt;&lt;p&gt;Well, we want to help solve this problem too, and so weâre announcing Pipelines, an upcoming streaming ingestion service designed to ingest data at scale, aggregate it, and write it directly to R2, without you having to manage infrastructure, partitions, runners, or worry about durability.&lt;/p&gt;&lt;p&gt;With Pipelines, creating a globally scalable ingestion endpoint that can ingest tens-of-thousands of events per second doesnât require any code:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;$ wrangler pipelines create clickstream-ingest-prod --batch-size=\&quot;1MB\&quot; --batch-timeout-secs=120 --batch-on-json-key=\&quot;.merchantId\&quot; --destination-bucket=\&quot;prod-cs-data\&quot;\n\nâ Successfully created new pipeline \&quot;clickstream-ingest-prod\&quot;\nð¥ Created endpoints:\nâ¡ HTTPS: https://d458dbe698b8eef41837f941d73bc5b3.pipelines.cloudflarestorage.com/clickstream-ingest-prod\nâ¡ WebSocket: wss://d458dbe698b8eef41837f941d73bc5b3.pipelines.cloudflarestorage.com:8443/clickstream-ingest-prod\nâ¡ Kafka: d458dbe698b8eef41837f941d73bc5b3.pipelines.cloudflarestorage.com:9092 (topic: clickstream-ingest-prod)\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see here, weâre already thinking about how to make Pipelines protocol-agnostic: write from a HTTP client, stream events over a WebSocket, and/or redirect your existing Kafka producer (and stop having to manage and scale Kafka) directly to Pipelines. &lt;/p&gt;&lt;p&gt;But thatâs just the beginning of our vision here. Scalable ingestion and simple batching is one thing, but what about if you have more complex needs? Well, we have a massively scalable compute platform (&lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;Cloudflare Workers&lt;/a&gt;) that can help address this too.&lt;/p&gt;&lt;p&gt;The code below is just an initial exploration for how weâre thinking about an API for running transforms over streaming data. If youâre aware of projects like &lt;a href=\&quot;https://beam.apache.org/documentation/programming-guide/\&quot;&gt;Apache Beam&lt;/a&gt; or &lt;a href=\&quot;https://flink.apache.org/\&quot;&gt;Flink&lt;/a&gt;, this programming model might even look familiar:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;export default {    \n   // Pipeline handler is invoked when batch criteria are met\n   async pipeline(stream: StreamPipeline, env: Env, ctx: ExecutionContext): Promise&amp;lt;StreamingPipeline&amp;gt; {\n      // ...\n      return stream\n         // Type: transform(label: string, transformFunc: TransformFunction): Promise&amp;lt;StreamPipeline&amp;gt;\n         // Each transform has a label that is used in metrics to provide\n    // per-transform observability and debugging\n         .transform(\&quot;human readable label\&quot;, (events: Array&amp;lt;StreamEvent&amp;gt;) =&amp;gt; {\n            return events.map((e) =&amp;gt; ...)\n         })\n         .transform(\&quot;another transform\&quot;, (events: Array&amp;lt;StreamEvent&amp;gt;) =&amp;gt; {\n            return events.map((e) =&amp;gt; ...)\n         })\n         .writeToR2({\n            format: \&quot;json\&quot;,\n            bucket: \&quot;MY_BUCKET_NAME\&quot;,\n            prefix: somePrefix,\n            batchSize: \&quot;10MB\&quot;\n         })\n   }\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Specifically:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The Worker describes a pipeline of transformations (mapping, reducing, filtering) that operates over each subset of events (records)&lt;/li&gt;&lt;li&gt;You can call out to other services â including D1 or KV â in order to synchronously or asynchronously hydrate data or lookup values during your stream processing&lt;/li&gt;&lt;li&gt;We take care of scaling horizontally based on records-per-second and/or any concurrency settings you configure based on processing latency requirements.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Weâll be bringing Pipelines into open beta later in 2024&lt;/strong&gt;, and it will initially launch with support for HTTP ingestion and R2 as a destination (sink), but weâre already thinking bigger.&lt;/p&gt;&lt;p&gt;Weâll be sharing more as Pipelines gets closer to release. In the meantime, you can &lt;a href=\&quot;https://docs.google.com/forms/d/e/1FAIpQLSeuaQ5YZoXJej5h5KoEz6LNrVb7gASJ8msahJg8VmBeC0HEYQ/viewform?usp=sf_link\&quot;&gt;register your interest and share your use-case&lt;/a&gt;, and weâll reach out when Pipelines reaches open beta.&lt;/p&gt;&lt;h3 id=\&quot;durable-execution\&quot;&gt;Durable Execution&lt;/h3&gt;&lt;p&gt;If the term âDurable Executionâ is new to you, donât worry: the term comes from the desire to run applications that can resume execution from where they left off, even if the underlying host or compute fails (where the âdurableâ part comes from).&lt;/p&gt;&lt;p&gt;As weâve continued to build out our data and AI platforms, weâve been acutely aware that developers need ways to create reliable, repeatable workflows that operate over that data, turn unstructured data into structured data, trigger on fresh data (or periodically), and automatically retry, restart, and export metrics for each step along the way. The industry calls this Durable Execution: weâre just calling it &lt;em&gt;Workflows&lt;/em&gt;.&lt;/p&gt;&lt;p&gt;What makes Workflows different from other takes on Durable Execution is that we provide the underlying compute as part of the platform. You donât have to bring-your-own compute, or worry about scaling it or provisioning it in the right locations. Workflows runs on top of &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;Cloudflare Workers&lt;/a&gt; â you write the workflow, and we take care of the rest.&lt;/p&gt;&lt;p&gt;Hereâs an early example of writing a Workflow that generates text embeddings using Workers AI and stores them (ready to query) in Vectorize as new content is written to (or updated within) R2.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Each Workflow &lt;em&gt;run&lt;/em&gt; is triggered by an Event Notification consumed from a Queue, but could also be triggered by a HTTP request, another Worker, or even scheduled on a timer.&lt;/li&gt;&lt;li&gt;Individual &lt;em&gt;steps&lt;/em&gt; within the Workflow allow us to define individually retriable units of work: in this case, weâre reading the new objects from R2, creating text embeddings using Workers AI, and then inserting.&lt;/li&gt;&lt;li&gt;State is &lt;em&gt;durably&lt;/em&gt; persisted between steps: each step can emit state, and Workflows will automatically persist that so that any underlying failures, uncaught exceptions or network retries can resume execution from the last successful step.&lt;/li&gt;&lt;li&gt;Every call to step() automatically emits metrics associated with the unique Workflow run, making it easier to debug within each step and/or break down your application into its smallest units of execution, without having to worry about observability.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Step-by-step, it looks like this:&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image4-5.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1020\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Transforming this series of steps into real code, hereâs what this would look like with Workflows:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;import { Ai } from \&quot;@cloudflare/ai\&quot;;\nimport { Workflow } from \&quot;cloudflare:workers\&quot;;\n\nexport interface Env {\n  R2: R2Bucket;\n  AI: any;\n  VECTOR_INDEX: VectorizeIndex;\n}\n\nexport default class extends Workflow {\n  async run(event: Event) {\n    const ai = new Ai(this.env.AI);\n\n    // List of keys to fetch from our incoming event notification\n    const keysToFetch = event.messages.map((val) =&amp;gt; {\n      return val.object.key;\n    });\n\n    // The return value of each step is stored (the \&quot;durable\&quot; part\n    // of \&quot;durable execution\&quot;)\n    // This ensures that state can be persisted between steps, reducing\n    // the need to recompute results ($$, time) should subsequent\n    // steps fail.\n    const inputs = await this.ctx.run(\n      // Each step has a user-defined label\n      // Metrics are emitted as each step runs (to success or failure)\n// with this label attached and available within per-Workflow\n// analytics in near-real-time.\n\&quot;read objects from R2\&quot;, async () =&amp;gt; {\n      const objects = [];\n\n      for (const key of keysToFetch) {\n        const object = await this.env.R2.get(key);\n        objects.push(await object.text());\n      }\n\n      return objects;\n    });\n\n\n    // Persist the output of this step.\n    const embeddings = await this.ctx.run(\n      \&quot;generate embeddings\&quot;,\n      async () =&amp;gt; {\n        const { data } = await ai.run(\&quot;@cf/baai/bge-small-en-v1.5\&quot;, {\n          text: inputs,\n        });\n\n        if (data.length) {\n          return data;\n        } else {\n          // Uncaught exceptions trigger an automatic retry of the step\n          // Retries and timeouts have sane defaults and can be overridden\n    // per step\n          throw new Error(\&quot;Failed to generate embeddings\&quot;);\n        }\n      },\n      {\n        retries: {\n          limit: 5,\n          delayMs: 1000,\n          backoff: \&quot;exponential\&quot;,\n        },\n      }\n    );\n\n    await this.ctx.run(\&quot;insert vectors\&quot;, async () =&amp;gt; {\n      const vectors = [];\n\n      keysToFetch.forEach((key, index) =&amp;gt; {\n        vectors.push({\n          id: crypto.randomUUID(),\n          // Our embeddings from the previous step\n          values: embeddings[index].values, \n          // The path to each R2 object to map back to during\n \t    // vector search\n          metadata: { r2Path: key },\n        });\n      });\n\n      return this.env.VECTOR_INDEX.upsert(vectors);\n    });\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This is just one example of what a Workflow can do. The ability to durably execute an application, modeled as a series of steps, applies to a wide number of domains. You can apply this model of execution to a number of use-cases, including:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Deploying software: each step can define a build step and subsequent health check, gating further progress until your deployment meets your criteria for âhealthyâ.&lt;/li&gt;&lt;li&gt;Post-processing user data: triggering a workflow based on user uploads (e.g. to Cloudflare R2) that then subsequently parses that data asynchronously, redacts PII or sensitive data, writes the sanitized output, and triggers a notification via email, webhook, or mobile push.&lt;/li&gt;&lt;li&gt;Payment and batch workflows: aggregating raw customer usage data on a periodic schedule by querying your data warehouse (or &lt;a href=\&quot;https://developers.cloudflare.com/analytics/analytics-engine/\&quot;&gt;Workers Analytics Engine&lt;/a&gt;), triggering usage or spend alerts, and/or generating PDF invoices.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Each of these use cases model tasks that you want to run to completion, minimize redundant retries by persisting intermediate state, and (importantly) easily observe success and failure. &lt;/p&gt;&lt;p&gt;&lt;strong&gt;Weâll be sharing more about Workflows during the second quarter of 2024 as we work towards an open (public!) beta&lt;/strong&gt;. This includes how weâre thinking about idempotency and interactions with our storage, per-instance observability and metrics, local development, and templates to bootstrap common workflows.&lt;/p&gt;&lt;h3 id=\&quot;putting-it-together\&quot;&gt;Putting it together&lt;/h3&gt;&lt;p&gt;Weâve often thought of Cloudflareâs own network as one massively scalable parallel data processing cluster: &lt;a href=\&quot;https://www.cloudflare.com/network/\&quot;&gt;data centers in 310+ cities&lt;/a&gt;, with the ability to run compute close to users and/or &lt;a href=\&quot;https://smart-placement-demo.pages.dev/\&quot;&gt;close to data&lt;/a&gt;, keep it within the bounds of regulatory or compliance requirements, and most importantly, use our massive scale to enable our customers to scale as well.&lt;/p&gt;&lt;p&gt;Recapping, a fully-fledged data platform needs to enable three things: &lt;/p&gt;&lt;ol&gt;&lt;li&gt;Ingesting data: getting data into the platform (in the right format, from the right sources)&lt;/li&gt;&lt;li&gt;Storing data: securely, reliably, and durably.&lt;/li&gt;&lt;li&gt;Querying data: understanding and extracting insights from the data, and/or transforming it for use by other tools.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;When we launched R2 we tackled the second part, but knew that weâd need to follow up with the first and third parts in order to make it easier for developers to get data in and make use of it. &lt;/p&gt;&lt;p&gt;If we look at how we can build a system that helps us solve each of these three parts together with Pipelines, Event Notifications, R2, and Workflows, we end up with an architecture that resembles this:&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image1-2.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1020\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Specifically, we have Pipelines (1) scaling out to ingest data, batch it, filter it, and then durably store it in R2 (2) in a format thatâs ready and optimized for querying. Workflows, ClickHouse, Databricks, or the query engine of your choice can then query (3) that data as soon as itâs ready â with âreadyâ being automatically triggered by an Event Notification &lt;em&gt;as soon as the data is ingested and written to R2&lt;/em&gt;. &lt;/p&gt;&lt;p&gt;Thereâs no need to poll, no need to batch after the fact, no need to have your query engine slow down on data that wasnât pre-aggregated or filtered, and no need to manage and scale infrastructure in order to keep up with load or data jurisdiction requirements. Create a Pipeline, write your data directly to R2, and query directly from it.&lt;/p&gt;&lt;p&gt;If youâre also looking at this and wondering about the costs of moving this data around, then weâre holding to one important principle: zero egress fees across all of our data products. Just as we set the stage for this with &lt;a href=\&quot;http://blog.cloudflare.com/introducing-r2-object-storage\&quot;&gt;our R2 object storage&lt;/a&gt;, we intend to apply this to every data product weâre building, Pipelines included.&lt;/p&gt;&lt;h3 id=\&quot;start-building\&quot;&gt;Start Building&lt;/h3&gt;&lt;p&gt;Weâve shared a lot of what weâre building so that developers have an opportunity to provide feedback (including via our &lt;a href=\&quot;https://discord.cloudflare.com/\&quot;&gt;Developer Discord&lt;/a&gt;), share use-cases, and think about how to build their &lt;em&gt;next&lt;/em&gt; application on Cloudflare.&lt;/p&gt;&quot;],&quot;comment_id&quot;:[0,&quot;660b4591a5fcdf000a08f5a0&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Data-Roadmap-1.png&quot;],&quot;featured&quot;:[0,false],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;created_at&quot;:[0,&quot;2024-04-02T00:38:57.000+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2024-04-03T15:11:19.000+01:00&quot;],&quot;published_at&quot;:[0,&quot;2024-04-03T14:00:17.000+01:00&quot;],&quot;custom_excerpt&quot;:[0,&quot;Weâre making it easier to build scalable, reliable, data-driven applications on top of our global network, and so weâre announcing a new Event Notifications framework; our take on durable execution, Workflows; and an upcoming streaming ingestion service, Pipelines&quot;],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;custom_template&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;authors&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;5d1644b141acde0011a94f75&quot;],&quot;name&quot;:[0,&quot;Matt Silverlock&quot;],&quot;slug&quot;:[0,&quot;silverlock&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2021/08/profile-1500px-square.jpeg&quot;],&quot;cover_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2018/08/general@2x-43.png&quot;],&quot;bio&quot;:[0,&quot;Director of Product at Cloudflare.&quot;],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@elithrar&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/silverlock/&quot;]}]]],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b4645a5fcdf000a08f5aa&quot;],&quot;name&quot;:[0,&quot;#BLOG-2386&quot;],&quot;slug&quot;:[0,&quot;hash-blog-2386&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}],[0,{&quot;id&quot;:[0,&quot;607030964b1e0f03f340f2d8&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-week/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95204&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Developers-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Developers&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Developers&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;64a3e2b834124c000b00b717&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-platform/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95253&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/workers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;61ddc4d00bfc69000a525a5b&quot;],&quot;name&quot;:[0,&quot;R2 Storage&quot;],&quot;slug&quot;:[0,&quot;cloudflare-r2&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/cloudflare-r2/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65c0d31851a92e000adeae66&quot;],&quot;name&quot;:[0,&quot;#front-page&quot;],&quot;slug&quot;:[0,&quot;hash-front-page&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}]]],&quot;primary_author&quot;:[0,{&quot;id&quot;:[0,&quot;5d1644b141acde0011a94f75&quot;],&quot;name&quot;:[0,&quot;Matt Silverlock&quot;],&quot;slug&quot;:[0,&quot;silverlock&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2021/08/profile-1500px-square.jpeg&quot;],&quot;cover_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2018/08/general@2x-43.png&quot;],&quot;bio&quot;:[0,&quot;Director of Product at Cloudflare.&quot;],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@elithrar&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/silverlock/&quot;]}],&quot;primary_tag&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/data-anywhere-events-pipelines-durable-execution-workflows/&quot;],&quot;excerpt&quot;:[0,&quot;Weâre making it easier to build scalable, reliable, data-driven applications on top of our global network, and so weâre announcing a new Event Notifications framework; our take on durable execution, Workflows; and an upcoming streaming ingestion service, Pipelines&quot;],&quot;reading_time&quot;:[0,9],&quot;access&quot;:[0,true],&quot;comments&quot;:[0,false],&quot;og_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Data-Anywhere-with-Pipelines--Event-Notifications--and-Workflows-OG-1.png&quot;],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Data-Anywhere-with-Pipelines--Event-Notifications--and-Workflows-OG.png&quot;],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,&quot;Weâre making it easier to build scalable, reliable, data-driven applications on top of our global network, and so weâre announcing a new Event Notifications framework; our take on durable execution, Workflows; and an upcoming streaming ingestion service, Pipelines&quot;],&quot;email_subject&quot;:[0,null],&quot;frontmatter&quot;:[0,null],&quot;feature_image_alt&quot;:[0,&quot;Data Anywhere with Pipelines, Event Notifications, and Workflows&quot;],&quot;feature_image_caption&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;660b2445a5fcdf000a08f426&quot;],&quot;uuid&quot;:[0,&quot;83afcaef-e155-4a07-9834-2cca18af2fcd&quot;],&quot;title&quot;:[0,&quot;How Picsart leverages Cloudflare&#39;s Developer Platform to build globally performant services&quot;],&quot;slug&quot;:[0,&quot;picsart-move-to-workers-huge-performance-gains&quot;],&quot;html&quot;:[0,&quot;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image5.png\&quot; class=\&quot;kg-image\&quot; alt=\&quot;How Picsart leverages Cloudflare&#39;s Developer Platform to build globally performant services\&quot; loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1125\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Delivering great user experiences with a global user base can be challenging. While serving requests quickly when you start out in a local market is straightforward, doing so for a global audience is much more difficult. Why? Even under optimal conditions, you cannot be faster than the speed of light, which brings single data center solutions to their performance limits.&lt;/p&gt;&lt;p&gt;In this post, we will cover how Picsart improved the performance of one of its most critical services by moving from a centralized architecture to a globally distributed service built on Cloudflare. Our serverless compute platform, &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;Workers&lt;/a&gt;, distributed throughout &lt;a href=\&quot;https://www.cloudflare.com/network/\&quot;&gt;310+ cities&lt;/a&gt; around the world, and our globally distributed &lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;Workers KV&lt;/a&gt; storage allowed them to improve their performance significantly and drive real business impact.&lt;/p&gt;&lt;h2 id=\&quot;success-driven-by-data-driven-insights\&quot;&gt;Success driven by data-driven insights&lt;/h2&gt;&lt;p&gt;&lt;a href=\&quot;https://picsart.com\&quot;&gt;Picsart&lt;/a&gt; is one of the worldâs largest digital creation platforms and a long-standing Cloudflare partner. At its core, an advanced tech stack powers its comprehensive features, including AI-driven photo and video editing tools and community-driven content sharing. With its infrastructure spanning across multiple cloud environments and on-prem deployments, Picsart is engineered to handle billions of daily requests from its huge mobile and web user base and API integrations. For over a decade, Cloudflare has been integral to Picsart, providing support for performant content delivery and securing its digital ecosystem. Â &lt;/p&gt;&lt;p&gt;Similar to many other tech giants, Picsart approaches product development in a data-driven way. At the core of the innovation is Picsart&#39;s remote configuration and experimentation platform, which enables product managers, UX researchers, and others to segment their user base into different test groups. These test groups might get to see slightly different implementations of features or designs of the Picsart app. Users might also get early access to experimental features or see different in-app promotions. In combination with constant monitoring of relevant KPIs, this allows for informed product decisions based on user preference and business impact.&lt;/p&gt;&lt;p&gt;On each app start, the client device sends a request to the remote configuration service for the latest setup tailored to the user&#39;s session. The assignment of experiments relies on factors like the operating system and previous sessions, making each request unique and uncachable. Picsart&#39;s app showcases extensive remote configuration capabilities, enabling adjustments to nearly every element. This results in a response containing a 1.5 MB configuration file for mobile clients. While the long-term solution is to reduce the file size, which has grown over time as more teams adopted the powerful service, this is not possible in the near or mid-term as it requires a major rewrite of all clients. &lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/Screenshot-2024-04-01-at-2.47.52-PM.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;752\&quot; height=\&quot;804\&quot;&gt;&lt;/figure&gt;&lt;p&gt;This setup request is blocking in the \&quot;hot path\&quot; during app start, as the results of this request will decide how the app itself looks and behaves. Hence, performance is critical. To ensure users are not waiting for too long, Picsart apps will wait for 1500ms on mobile for the request to complete â if it does not, the user will not be assigned a test group and the app will fallback to default settings.&lt;/p&gt;&lt;h2 id=\&quot;the-clock-is-ticking\&quot;&gt;The clock is ticking&lt;/h2&gt;&lt;p&gt;While a 1500ms round trip time seems like a sufficiently large time budget, the data suggested otherwise. Before the improvements were implemented, a staggering 50% of devices could not complete the requests in time. How come? In these 1.5 seconds the following steps need to complete:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;The request must travel from the usersâ devices to the centralized backend servers&lt;/li&gt;&lt;li&gt;The server processes the request based on dozens of user attributes provided in the request and thousands of defined remote configuration variations, running experiments, and segments metadata. Using all the info, the server selects the right variation of each remote setting entry and builds the response payload.&lt;/li&gt;&lt;li&gt;The response must travel from the centralized backend servers to the user devices.&lt;/li&gt;&lt;/ol&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1125\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Looking at the data, it was clear to the Picsart team that their backend service was already well-optimized, taking only 30 milliseconds, a tiny fraction of the available time budget, to process each of the billions of monthly requests. The bulk of the request time came from &lt;a href=\&quot;https://www.cloudflare.com/learning/performance/glossary/what-is-latency/\&quot;&gt;network latency&lt;/a&gt;. Especially with mobile devices, last mile performance can be very volatile, eating away a significant amount of the available time budget. Not only that, but the data was clear: users closer to the origin server had a much higher chance of making the round trip in time versus users out of region. It quickly became obvious that Picsart, fueled by its global success, had outgrown a single-region setup.&lt;/p&gt;&lt;h2 id=\&quot;to-the-drawing-board\&quot;&gt;To the drawing board&lt;/h2&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image6.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1126\&quot;&gt;&lt;/figure&gt;&lt;p&gt;A solution that comes to mind would be to replicate the existing cloud infrastructure in multiple regions and use global load balancing to minimize the distance a request needs to travel. However, this introduces significant overhead and cost. On the infrastructure side, it is not only the additional compute instances and database clusters that incur cost, but also cross-region data transfer to keep data in sync. Moreover, technical teams would need to operate and monitor infrastructure in multiple regions, which can add a lot to the complexity and cognitive load, leading to decreased development velocity and productivity loss.&lt;/p&gt;&lt;p&gt;Picsart instead looked to Cloudflare â we already had a long-lasting relationship for &lt;a href=\&quot;https://www.cloudflare.com/application-services/\&quot;&gt;Application Performance and Security&lt;/a&gt;, and they aimed to use our &lt;a href=\&quot;https://www.cloudflare.com/developer-platform/\&quot;&gt;Developer Platform&lt;/a&gt; to tackle the problem.&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image2.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1126\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Workers and Workers KV seemed like the ideal solution. Both compute and data are globally distributed in &lt;a href=\&quot;https://www.cloudflare.com/network\&quot;&gt;310+ locations around the world&lt;/a&gt;, resulting in a shorter distance between end users and the experimentation service. Not only that, but Cloudflare&#39;s global-by-default approach allows for deployment with minimal overhead, and in contrast to other considered solutions, no additional fees to distribute the data around the globe.&lt;/p&gt;&lt;h2 id=\&quot;no-race-without-a-clock\&quot;&gt;No race without a clock&lt;/h2&gt;&lt;p&gt;The objective for the refactor of the experimentation service was to increase the share of devices that successfully receive experimentation configuration within the set time budget.&lt;/p&gt;&lt;p&gt;But how to measure success? While synthetic testing can be useful in many situations, Picsart opted to come up with another clever solution:&lt;br&gt;&lt;br&gt;During development, the Picsart engineers had already added a testing endpoint to the web and mobile versions of their app that sends a duplicate request to the new endpoint, discarding the response and swallowing all potential errors. This allows them to collect timing data based on real-user metrics without impacting the app&#39;s performance and reliability. &lt;/p&gt;&lt;p&gt;A simplified version of this pattern for a web client could look like this:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;// API endpoint URLs\nconst prodUrl = &#39;https://prod.example.com/&#39;;\nconst devUrl = &#39;https://new.example.com/&#39;;\n\n// Function to collect metrics\nconst collectMetrics = (duration) =&amp;gt; {\n    console.log(&#39;Request duration:&#39;, duration);\n    // â¦\n};\n\n// Function to fetch data from an endpoint and call collectMetrics\nconst fetchData = async (url, options) =&amp;gt; {\n    const startTime = performance.now();\n    \n    try {\n        const response = await fetch(url, options);\n        const endTime = performance.now();\n        const duration = endTime - startTime;\n        collectMetrics(duration);\n        return await response.json();\n    } catch (error) {\n        console.error(&#39;Error fetching data:&#39;, error);\n    }\n};\n\n// Fetching data from both endpoints\nasync function fetchDataFromBothEndpoints() {\n    try {\n        const result1 = await fetchData(prodUrl, { method: &#39;POST&#39;, ... });\n        console.log(&#39;Result from endpoint 1:&#39;, result1);\n\n        // Fetching data from the second endpoint without awaiting its completion\n        fetchData(devUrl, { method: &#39;POST&#39;, ... });\n    } catch (error) {\n        console.error(&#39;Error fetching data from both endpoints:&#39;, error);\n    }\n}\n\nfetchDataFromBothEndpoints();\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Using existing data analytics tools, Picsart was able to analyze the performance of the new services from day one, starting with a dummy endpoint and a &#39;hello world&#39; response. And with that a v0 was created that did not have the correct logic just yet, but simulated reading multiple values from KV and returning a response of a realistic size back to the end user.&lt;/p&gt;&lt;h2 id=\&quot;the-need-for-a-do-over\&quot;&gt;The need for a do-over&lt;/h2&gt;&lt;p&gt;In the initial phase, outcomes fell short of expectations. Surprisingly, requests were slower despite the service&#39;s proximity to end users. What caused this setback? Â Subsequent investigation unveiled multiple culprits and design patterns in need for optimization.&lt;/p&gt;&lt;h3 id=\&quot;data-segmentation\&quot;&gt;Data segmentation&lt;/h3&gt;&lt;p&gt;The previous, stateful solution operated on a single massive \&quot;blob\&quot; of data exceeding 100MB in value. Loading this into memory incurred a few seconds of initial startup time, but once the VM completed the task, request handling was fast, benefiting from the readily available data in memory.&lt;/p&gt;&lt;p&gt;However, this approach doesn&#39;t seamlessly transition to the serverless realm. Unlike long-running VMs, Worker isolates have short lifespans. Repeatedly parsing large JSON objects led to prolonged compute durations. Simply parsing four KV entries of 25MB each (KV maximum value size is 25MB) on each request was not a feasible option.&lt;/p&gt;&lt;p&gt;The Picsart team went back to solution design and embarked on a journey to optimize their system&#39;s execution time, resulting in a series of impactful improvements. &lt;/p&gt;&lt;p&gt;The fundamental insight that guided the solution was the unnecessary overhead that was involved in loading and parsing data irrelevant to the user&#39;s specific context. The 100MB configuration file contained configurations for all platforms and locations worldwide â a setup that was far from efficient in a globally distributed, serverless compute environment. For instance, when processing requests from users in the United States, there was no need to fetch configurations targeted for users in other countries, or for different platforms.&lt;/p&gt;&lt;p&gt;To address this inefficiency, the Picsart team stored the configuration of each platform and country in separate KV records. This targeted strategy meant that for a request originating from a US user on an Android device, our system would only fetch and parse the KV record specific to Android users in the US, thereby excluding all irrelevant data. This resulted in approximately 600 KV records, each with a maximum size of 10MB. While this leads to data duplication on the KV storage side, it decreases the amount of data that needs to be parsed upon request. As Cloudflare operates in over 120 countries around the world, only a subset of records were needed in each location. Hence, the increase in cardinality had minimal impact on KV cache performance, as demonstrated by more than 99.5% of KV reads being served from local cache.&lt;/p&gt;&lt;!--kg-card-begin: html--&gt;&lt;table style=\&quot;margin-left:auto;margin-right:auto;\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Key&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;b&gt;Size&lt;/b&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;settings_part1.json&lt;/td&gt;\n    &lt;td&gt;25MB&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;settings_part2.json&lt;/td&gt;\n    &lt;td&gt;25MB&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;â¦&lt;/td&gt;\n    &lt;td&gt;â¦.&lt;/td&gt;\n  &lt;/tr&gt;  \n&lt;/table&gt;\n&lt;small&gt;&lt;center&gt;Before (simplified)&lt;/center&gt;&lt;/small&gt;&lt;!--kg-card-end: html--&gt;&lt;!--kg-card-begin: html--&gt;&lt;table style=\&quot;margin-left:auto;margin-right:auto;\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Key&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;b&gt;Size&lt;/b&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_apple_us.json&lt;/td&gt;\n    &lt;td&gt;6.1MB&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_apple_de.json&lt;/td&gt;\n    &lt;td&gt;6.1MB&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_android_us.json&lt;/td&gt;\n    &lt;td&gt;5.9MB&lt;/td&gt;\n  &lt;/tr&gt;  \n  &lt;tr&gt;\n    &lt;td&gt;â¦&lt;/td&gt;\n    &lt;td&gt;â¦&lt;/td&gt;\n  &lt;/tr&gt;  \n&lt;/table&gt;\n&lt;small&gt;&lt;center&gt;After (simplified)&lt;/center&gt;&lt;/small&gt;&lt;br&gt;&lt;br&gt;&lt;!--kg-card-end: html--&gt;&lt;p&gt;This approach was a significant move for Picsart as they transitioned from a regional cloud setup to Cloudflare&#39;s globally distributed connectivity cloud. By serving data from close proximity to end user locations, they were able to combat the high network latency from their previous setup. This strategy radically transformed the data-handling process. Which unlocked two major benefits:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Performance Gains&lt;strong&gt;:&lt;/strong&gt; By ensuring that only the relevant subset of data is fetched and parsed based on the user&#39;s platform and geographical location, wall time and compute resources required for these operations could be significantly reduced.&lt;/li&gt;&lt;li&gt;Scalability and Flexibility: the granular segmentation of data enables effortless scaling of the service for new features or regional content. Adding support for new applications now only requires inserting new, standalone KV records in contrast to the previous solution where this would require increasing the size of the single record.&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=\&quot;immutable-updates\&quot;&gt;Immutable updates&lt;/h3&gt;&lt;p&gt;Now that changes to the configuration were segmented by app, country, and platform, this also allowed for individual updates of the configuration in KV. KV storage showcases its best performance when records are updated infrequently but read very often. This pattern leverages &lt;a href=\&quot;https://developers.cloudflare.com/kv/reference/how-kv-works/\&quot;&gt;KV&#39;s fundamental design&lt;/a&gt; to cache values at edge locations upon reads, ensuring that subsequent queries for the same record are swiftly served by local caches rather than requiring a trip back to KV&#39;s centralized data centers. This architecture is fundamental for minimizing latency and maximizing the speed of data retrieval across a globally distributed platform.&lt;/p&gt;&lt;p&gt;A crucial requirement for Picsartâs experimentation system was the ability to propagate updates of remote configuration values immediately. Updating existing records would require very short cache TTLs and even the minimum KV cache TTL of 60 seconds was considered unacceptable for the dynamic nature of the feature flagging. Moreover, setting short &lt;a href=\&quot;https://www.cloudflare.com/learning/cdn/glossary/time-to-live-ttl/\&quot;&gt;TTLs&lt;/a&gt; also impacts the &lt;a href=\&quot;https://www.cloudflare.com/learning/cdn/what-is-a-cache-hit-ratio/\&quot;&gt;cache hit ratio&lt;/a&gt; and the overall KV performance, specifically in regions with low traffic.&lt;/p&gt;&lt;p&gt;To reconcile the need for both rapid updates and efficient caching, Picsart adopted an innovative approach: making KV records immutable. Instead of modifying existing records, they opted to create new records with each configuration change. By appending the content hash to the KV key and writing new records after each update, Picsart ensured that each record was unique and immutable. This allowed them to leverage higher cache TTLs, as these records would never be updated.&lt;/p&gt;&lt;!--kg-card-begin: html--&gt;&lt;table style=\&quot;margin-left:auto;margin-right:auto;\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Key&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;b&gt;TTL&lt;/b&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_apple_us.json\n      &lt;/td&gt;\n    &lt;td&gt;60s&lt;/td&gt;\n  &lt;/tr&gt;  \n    &lt;tr&gt;\n    &lt;td&gt;â¦&lt;/td&gt;\n    &lt;td&gt;â¦.&lt;/td&gt;\n  &lt;/tr&gt;  \n&lt;/table&gt;\n&lt;small&gt;&lt;center&gt;Before (simplified)&lt;/center&gt;&lt;/small&gt;&lt;!--kg-card-end: html--&gt;&lt;!--kg-card-begin: html--&gt;&lt;table style=\&quot;margin-left:auto;margin-right:auto;\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;strong&gt;Key&lt;/strong&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;strong&gt;TTL&lt;/strong&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_apple_us_b58b59.json&lt;/td&gt;\n    &lt;td&gt;86400s&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;com.picsart.studio_apple_us_273678.json&lt;/td&gt;\n    &lt;td&gt;86400s&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;-&lt;/td&gt;\n    &lt;td&gt;â¦&lt;/td&gt;\n  &lt;/tr&gt;  \n&lt;/table&gt;\n&lt;small&gt;&lt;center&gt;After (simplified)&lt;/center&gt;&lt;/small&gt;&lt;br&gt;&lt;br&gt;&lt;!--kg-card-end: html--&gt;&lt;p&gt;There was a catch, though. The service must now keep track of the correct KV keys to use. The Picsart team addressed this challenge by storing references to the latest KV keys in the environment variables of the Worker. &lt;/p&gt;&lt;p&gt;Each configuration change triggers a new KV pair to be written and the services&#39; environment variables to be updated. As global Workers deployments take mere seconds, changes to the experimentation and configuration data are near-instantaneously globally available.&lt;/p&gt;&lt;h3 id=\&quot;json-serialization-alternatives\&quot;&gt;JSON serialization &amp;amp; alternatives&lt;/h3&gt;&lt;p&gt;Following the previous improvements, the Picsart team made another significant discovery: only a small fraction of configuration data is needed to assign the experiments, while the remaining majority of the data comprises JSON values for the remote configuration payloads. While the service must deliver the latter in the response, the data is not required during the initial processing phase. &lt;/p&gt;&lt;p&gt;The initial implementation used &lt;a href=\&quot;https://developers.cloudflare.com/kv/api/read-key-value-pairs/\&quot;&gt;KV&#39;s get()&lt;/a&gt; method to retrieve the configuration data with the parameter type=&lt;code&gt;json&lt;/code&gt;, which converts the KV value to an object. This process is very compute-intensive compared to using the &lt;code&gt;get()&lt;/code&gt; method with parameter type= &lt;code&gt;text&lt;/code&gt;, which simply returns the value as a string. In the context of Picsart&#39;s data, the bulk of the CPU cycles were wasted on serializing JSON data that is not needed to perform the required business logic.&lt;/p&gt;&lt;p&gt;What if the data structure and code could be changed in such a way that only the data needed to assign experiments was parsed as JSON, while the configuration values were treated as text? Picsart went ahead with a new approach: splitting the KV records into two, creating a small 300 KB record for the metadata, which can be quickly parsed to an object, and a 9.7 MB record of configuration values. The extracted configuration values are delimited by newline characters. The respective line number is used as reference in the metadata entry, so that the respective configuration value for an experiment can be merged back into the payload response later.&lt;/p&gt;&lt;!--kg-card-begin: html--&gt;&lt;table&gt;\n  &lt;tr&gt;\n    &lt;td colspan=\&quot;2\&quot; style=\&quot;border: none\&quot;&gt;\n      &lt;code style=\&quot;display: block\&quot;&gt;\n        {&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;\&quot;name\&quot;: \&quot;shape_replace_items\&quot;,&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;\&quot;default_value\&quot;: \&quot;&amp;lt;large json object&amp;gt;\&quot;,&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;\&quot;segments\&quot;: [&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\&quot;id\&quot;: \&quot;f1244\&quot;,&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\&quot;value\&quot;: \&quot;&amp;lt;Another json object\n        json object&amp;gt;\&quot;&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\&quot;id\&quot;: \&quot;a2lfd\&quot;,&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\&quot;value\&quot;: \&quot;&amp;lt;Yet another large json\n        object&amp;gt;\&quot;&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br /&gt;\n        &amp;nbsp;&amp;nbsp;]&lt;br /&gt;\n        }&lt;br /&gt;\n      &lt;/code&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td colspan=\&quot;2\&quot; style=\&quot;border: none\&quot;&gt;\n      &lt;figcaption style=\&quot;margin: 0; margin-bottom: 1em\&quot;&gt;\n        &lt;em&gt;Before: Metadata and Values in one JSON object (simplified)&lt;/em&gt;\n      &lt;/figcaption&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td style=\&quot;vertical-align: top; border: none\&quot;&gt;\n      &lt;code style=\&quot;display: block\&quot;&gt;\n        // com.picsart.studio_apple_am_metadata&lt;br /&gt;\n        &lt;br /&gt;\n        1 {&lt;br /&gt;\n        2&amp;nbsp;&amp;nbsp; \&quot;name\&quot;: \&quot;shape_replace_items\&quot;,&lt;br /&gt;\n        3&amp;nbsp;&amp;nbsp; \&quot;default_value\&quot;: 1,&lt;br /&gt;\n        4&amp;nbsp;&amp;nbsp; \&quot;segments\&quot;: [&lt;br /&gt;\n        5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;br /&gt;\n        6&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; \&quot;id\&quot;: \&quot;f1244\&quot;,&lt;br /&gt;\n        7&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; \&quot;value\&quot;: 2&lt;br /&gt;\n        8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; },&lt;br /&gt;\n        9&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;br /&gt;\n        10&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; \&quot;id\&quot;: \&quot;a2lfd\&quot;,&lt;br /&gt;\n        11&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\&quot;value\&quot;: 3&lt;br /&gt;\n        12&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br /&gt;\n        13&amp;nbsp;&amp;nbsp; ]&lt;br /&gt;\n        14 }&lt;br /&gt;\n      &lt;/code&gt;\n    &lt;/td&gt;\n    &lt;td style=\&quot;vertical-align: top; border: none\&quot;&gt;\n      &lt;code style=\&quot;display: block\&quot;&gt;\n        // com.picsart.studio_apple_am_values&lt;br /&gt;\n        &lt;br /&gt;\n        1 &amp;quot;&amp;lt;large json object&amp;gt;&amp;quot;&lt;br /&gt;\n        2 &amp;quot;&amp;lt;Another json object&amp;gt;&amp;quot;&lt;br /&gt;\n        3 &amp;quot;&amp;lt;Yet another json object&amp;gt;&amp;quot;&lt;br /&gt;\n      &lt;/code&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td colspan=\&quot;2\&quot; style=\&quot;border: none\&quot;&gt;\n      &lt;figcaption style=\&quot;margin: 0; margin-bottom: 1em\&quot;&gt;\n        &lt;em&gt;After: Metadata and Values are split (simplified)&lt;/em&gt;\n      &lt;/figcaption&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&lt;!--kg-card-end: html--&gt;&lt;p&gt;After calculating the experiments and selecting the correct variants based solely on the small metadata entry, the service constructs a JSON string for the response containing placeholders for the actual values that reference the corresponding line numbers in the separate text file. To finalize the response, the server replaces the placeholders with the corresponding serialized JSON strings from the text file. This approach circumvents the need for parsing and re-serializing large JSON objects and helps to avoid a significant computational overhead.&lt;/p&gt;&lt;p&gt;Note that the process of parsing the metadata JSON and determining the correct experiments as well as the loading of the large file with configuration values are executed in parallel, saving additional milliseconds.&lt;/p&gt;&lt;p&gt;By minimizing the size of the JSON data that needed to be parsed and leveraging a more efficient method for constructing the final response, the Picsart team managed to not only reduce the response times but also optimize the compute resource usage. This approach reflects a broader principle applicable across the tech industry: that efficiency, particularly in serverless architectures, can often be dramatically improved by rethinking data structure and utilization.&lt;/p&gt;&lt;h2 id=\&quot;getting-a-head-start\&quot;&gt;Getting a head start&lt;/h2&gt;&lt;p&gt;The changes on the server-side, moving from a single region setup to Cloudflareâs global architecture, paid off massively. Median response times globally dropped by more than 1 second, which was already a huge improvement for the team. However, in looking at the new data, two more paths for client-side optimizations were found.&lt;/p&gt;&lt;p&gt;As the web and mobile app would call the service at startup, most of the time no active connections to the servers were alive and establishing that connection at request time costs valuable milliseconds. &lt;/p&gt;&lt;p&gt;For the web version, setting a &lt;a href=\&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/preconnect\&quot;&gt;pre-connect header&lt;/a&gt; on initial page load showed a positive impact. For the mobile app version, the Picsart team took it a step further. Investigation showed that before the connection could be established, three modules had to complete initialization: the error tracker, the HTTP client, and the SDK. Reordering of the modules to initialize the HTTP client first allowed for connection establishment in parallel to the initialization of the SDK and error tracker, again saving time. This resulted in another 200ms improvement for end users.&lt;/p&gt;&lt;h2 id=\&quot;setting-a-new-personal-best\&quot;&gt;Setting a new personal best&lt;/h2&gt;&lt;p&gt;The day had come, and it was time for the phased rollout, web first and the mobile apps second. With suspense, the team looked at the dashboards, and were pleasantly surprised. The rollout was successful and billions of requests were handled with ease.&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card kg-width-wide kg-card-hascaption\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image4.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;791\&quot;&gt;&lt;figcaption&gt;&lt;em&gt;Share of successfully delivered experiments&lt;/em&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;The result? The Picsart apps are loading faster than ever for millions of users worldwide, while the share of successfully delivered experiments increased from 50% to 85%. Median response time dropped from 1500 ms to 280 ms. The response time dropped to 70 ms on the web since the response size is smaller compared to mobile. This translates to a real business impact for Picsart as they can now deliver more personalized and data-driven experiences to even more of their users.&lt;/p&gt;&lt;h2 id=\&quot;a-bright-future-ahead\&quot;&gt;A bright future ahead&lt;/h2&gt;&lt;p&gt;Picsart is already thinking of the next generation of experimentation. To integrate with Cloudflare even further, the plan is to use Durable Objects to store hundreds of millions of user data records in a decentralized fashion, enabling even more powerful experiments without impacting performance. This is possible thanks to Durable Objects&#39; underlying architecture that stores the user data in-region, close to the respective end user device. &lt;/p&gt;&lt;p&gt;Beyond that, Picsartâs experimentation team is also planning to onboard external B2B customers to their experimentation platform as Cloudflare&#39;s developer platform provides them with the scale and global network to handle more traffic and data with ease.&lt;/p&gt;&lt;h2 id=\&quot;get-started-yourself\&quot;&gt;Get started yourself&lt;/h2&gt;&lt;p&gt;If youâre also working on or with an application that would benefit from Cloudflareâs speed and scale, check out our developer &lt;a href=\&quot;https://developers.cloudflare.com/workers/\&quot;&gt;documentation&lt;/a&gt; and &lt;a href=\&quot;https://developers.cloudflare.com/workers/tutorials/\&quot;&gt;tutorials&lt;/a&gt;, and join our developer &lt;a href=\&quot;https://discord.cloudflare.com/\&quot;&gt;Discord&lt;/a&gt; to get community support and inspiration.&lt;/p&gt;&quot;],&quot;comment_id&quot;:[0,&quot;660b2445a5fcdf000a08f426&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/image5-1.png&quot;],&quot;featured&quot;:[0,false],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;created_at&quot;:[0,&quot;2024-04-01T22:16:53.000+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2024-04-03T15:30:08.000+01:00&quot;],&quot;published_at&quot;:[0,&quot;2024-04-03T14:00:02.000+01:00&quot;],&quot;custom_excerpt&quot;:[0,&quot;Picsart, one of the worldâs largest digital creation platforms, encountered performance challenges in catering to its global audience. Adopting Cloudflare&#39;s global-by-default Developer Platform emerged as the optimal solution, empowering Picsart to enhance performance and scalability substantially&quot;],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;custom_template&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;authors&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b2261a5fcdf000a08f418&quot;],&quot;name&quot;:[0,&quot;Mark Dembo&quot;],&quot;slug&quot;:[0,&quot;mark-dembo&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/unnamed-1.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,&quot;https://www.linkedin.com/in/mdembo&quot;],&quot;location&quot;:[0,&quot;Munich, Germany&quot;],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/mark-dembo/&quot;]}],[0,{&quot;id&quot;:[0,&quot;660b23aea5fcdf000a08f41f&quot;],&quot;name&quot;:[0,&quot;Shant Marouti&quot;],&quot;slug&quot;:[0,&quot;shant&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/image8.png&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,&quot;Staff Software Engineer @ Picsart&quot;],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@shantmarouti&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/shant/&quot;]}]]],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b2489a5fcdf000a08f42d&quot;],&quot;name&quot;:[0,&quot;#BLOG-2274&quot;],&quot;slug&quot;:[0,&quot;hash-blog-2274&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}],[0,{&quot;id&quot;:[0,&quot;6450636642d421000a133298&quot;],&quot;name&quot;:[0,&quot;Guest Post&quot;],&quot;slug&quot;:[0,&quot;guest-post&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/guest-post/&quot;]}],[0,{&quot;id&quot;:[0,&quot;607030964b1e0f03f340f2d8&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-week/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95204&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Developers-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Developers&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Developers&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;64a3e2b834124c000b00b717&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-platform/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95278&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers KV&quot;],&quot;slug&quot;:[0,&quot;cloudflare-workers-kv&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/cloudflare-workers-kv/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95253&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/workers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65c0d31851a92e000adeae66&quot;],&quot;name&quot;:[0,&quot;#front-page&quot;],&quot;slug&quot;:[0,&quot;hash-front-page&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}]]],&quot;primary_author&quot;:[0,{&quot;id&quot;:[0,&quot;660b2261a5fcdf000a08f418&quot;],&quot;name&quot;:[0,&quot;Mark Dembo&quot;],&quot;slug&quot;:[0,&quot;mark-dembo&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/unnamed-1.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,&quot;https://www.linkedin.com/in/mdembo&quot;],&quot;location&quot;:[0,&quot;Munich, Germany&quot;],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/mark-dembo/&quot;]}],&quot;primary_tag&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/picsart-move-to-workers-huge-performance-gains/&quot;],&quot;excerpt&quot;:[0,&quot;Picsart, one of the worldâs largest digital creation platforms, encountered performance challenges in catering to its global audience. Adopting Cloudflare&#39;s global-by-default Developer Platform emerged as the optimal solution, empowering Picsart to enhance performance and scalability substantially&quot;],&quot;reading_time&quot;:[0,13],&quot;access&quot;:[0,true],&quot;comments&quot;:[0,false],&quot;og_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/How-Picsart-leverages-Cloudflare-s-Developer-Platform-to-build-globally-performant-services-OG-1.png&quot;],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/How-Picsart-leverages-Cloudflare-s-Developer-Platform-to-build-globally-performant-services-OG.png&quot;],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,&quot;Picsart, one of the worldâs largest digital creation platforms, encountered performance challenges in catering to its global audience. Adopting Cloudflare&#39;s global-by-default Developer Platform emerged as the optimal solution, empowering Picsart to enhance performance and scalability substantially&quot;],&quot;email_subject&quot;:[0,null],&quot;frontmatter&quot;:[0,null],&quot;feature_image_alt&quot;:[0,&quot;How Picsart leverages Cloudflare&#39;s Developer Platform to build globally performant services&quot;],&quot;feature_image_caption&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;660ab7c3a5fcdf000a08f29a&quot;],&quot;uuid&quot;:[0,&quot;3c04e7ee-e35a-40b5-b9f6-19e80b05af33&quot;],&quot;title&quot;:[0,&quot;Leveling up Workers AI: general availability and more new capabilities&quot;],&quot;slug&quot;:[0,&quot;workers-ai-ga-huggingface-loras-python-support&quot;],&quot;html&quot;:[0,&quot;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/Cities-with-GPUs-momentum-update.png\&quot; class=\&quot;kg-image\&quot; alt=\&quot;Leveling up Workers AI: general availability and more new capabilities\&quot; loading=\&quot;lazy\&quot; width=\&quot;1600\&quot; height=\&quot;900\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Welcome to Tuesday â our AI day of Developer Week 2024! In this blog post, weâre excited to share an overview of our new AI announcements and vision, including news about Workers AI officially going GA with improved pricing, a GPU hardware momentum update, an expansion of our Hugging Face partnership, Bring Your Own LoRA fine-tuned inference, Python support in Workers, more providers in AI Gateway, and Vectorize metadata filtering.&lt;/p&gt;&lt;h3 id=\&quot;workers-ai-ga\&quot;&gt;Workers AI GA&lt;/h3&gt;&lt;p&gt;Today, weâre excited to announce that our Workers AI inference platform is now Generally Available. After months of being in open beta, weâve improved our service with greater reliability and performance, unveiled pricing, and added many more models to our catalog. &lt;/p&gt;&lt;h4 id=\&quot;improved-performance-reliability\&quot;&gt;Improved performance &amp;amp; reliability&lt;/h4&gt;&lt;p&gt;With Workers AI, our goal is to make AI inference as reliable and easy to use as the rest of Cloudflareâs network. Under the hood, weâve upgraded the load balancing that is built into Workers AI. Requests can now be routed to more GPUs in more cities, and each city is aware of the total available capacity for AI inference. If the request would have to wait in a queue in the current city, it can instead be routed to another location, getting results back to you faster when traffic is high. With this, weâve increased rate limits across all our models â most LLMs now have a of 300 requests per minute, up from 50 requests per minute during our beta phase. Smaller models have a limit of 1500-3000 requests per minute. Check out our &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/platform/limits/\&quot;&gt;Developer Docs for the rate limits&lt;/a&gt; of individual models.&lt;/p&gt;&lt;h4 id=\&quot;lowering-costs-on-popular-models\&quot;&gt;Lowering costs on popular models&lt;/h4&gt;&lt;p&gt;Alongside our GA of Workers AI, we published a &lt;a href=\&quot;https://ai.cloudflare.com/#pricing-calculator\&quot;&gt;pricing calculator&lt;/a&gt; for our 10 non-beta models earlier this month. We want Workers AI to be one of the most affordable and accessible solutions to run &lt;a href=\&quot;https://www.cloudflare.com/learning/ai/inference-vs-training/\&quot;&gt;inference&lt;/a&gt;, so we added a few optimizations to our models to make them more affordable. Now, Llama 2 is over 7x cheaper and Mistral 7B is over 14x cheaper to run than we had initially &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/platform/pricing/\&quot;&gt;published &lt;/a&gt;on March 1. We want to continue to be the best platform for AI inference and will continue to roll out optimizations to our customers when we can. &lt;/p&gt;&lt;p&gt;As a reminder, our billing for Workers AI started on April 1st for our non-beta models, while beta models remain free and unlimited. We offer 10,000 &lt;a href=\&quot;http://blog.cloudflare.com/workers-ai#:~:text=may%20be%20wondering%20%E2%80%94-,what%E2%80%99s%20a%20neuron\&quot;&gt;neurons&lt;/a&gt; per day for free to all customers. Workers Free customers will encounter a hard rate limit after 10,000 neurons in 24 hours while Workers Paid customers will incur usage at $0.011 per 1000 additional neurons. Â Read our &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/platform/pricing/\&quot;&gt;Workers AI Pricing Developer Docs&lt;/a&gt; for the most up-to-date information on pricing.&lt;/p&gt;&lt;h4 id=\&quot;new-dashboard-and-playground\&quot;&gt;New dashboard and playground&lt;/h4&gt;&lt;p&gt;Lastly, weâve revamped our &lt;a href=\&quot;https://dash.cloudflare.com/?to=/:account/ai/workers-ai\&quot;&gt;Workers AI dashboard&lt;/a&gt; and &lt;a href=\&quot;https://playground.ai.cloudflare.com/\&quot;&gt;AI playground&lt;/a&gt;. The Workers AI page in the Cloudflare dashboard now shows analytics for usage across models, including neuron calculations to help you better predict pricing. The AI playground lets you quickly test and compare different models and configure prompts and parameters. We hope these new tools help developers start building on Workers AI seamlessly â go try them out!&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image3-3.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;1233\&quot;&gt;&lt;/figure&gt;&lt;h3 id=\&quot;run-inference-on-gpus-in-over-150-cities-around-the-world\&quot;&gt;Run inference on GPUs in over 150 cities around the world&lt;/h3&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image5-2.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;500\&quot;&gt;&lt;/figure&gt;&lt;p&gt;When we announced Workers AI back in September 2023, we set out to deploy GPUs to our data centers around the world. We plan to deliver on that promise and deploy inference-tuned GPUs almost everywhere by the end of 2024, making us the most widely distributed cloud-AI inference platform. We have over 150 cities with GPUs today and will continue to roll out more throughout the year.&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image7-1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1800\&quot; height=\&quot;1098\&quot;&gt;&lt;/figure&gt;&lt;p&gt;We also have our next generation of compute servers with GPUs launching in Q2 2024, which means better performance, power efficiency, and improved reliability over previous generations. We provided a preview of our Gen 12 Compute servers design in a &lt;a href=\&quot;http://blog.cloudflare.com/cloudflare-gen-12-server-bigger-better-cooler-in-a-2u1n-form-factor\&quot;&gt;December 2023 blog post&lt;/a&gt;, with more details to come. With Gen 12 and future planned hardware launches, the next step is to support larger machine learning models and offer fine-tuning on our platform. This will allow us to achieve higher inference throughput, lower latency and greater availability for production workloads, as well as expanding support to new categories of workloads such as fine-tuning.&lt;/p&gt;&lt;h3 id=\&quot;hugging-face-partnership\&quot;&gt;Hugging Face Partnership&lt;br&gt;&lt;/h3&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image2-2.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;551\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Weâre also excited to continue our partnership with Hugging Face in the spirit of bringing the best of open-source to our customers. Now, you can visit some of the most popular models on Hugging Face and easily click to run the model on Workers AI if it is available on our platform.&lt;/p&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image6-1.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;726\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Weâre happy to announce that weâve added 4 more models to our platform in conjunction with Hugging Face. You can now access the new &lt;a href=\&quot;https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.2\&quot;&gt;Mistral 7B v0.2&lt;/a&gt; model with improved context windows, &lt;a href=\&quot;https://huggingface.co/NousResearch/Hermes-2-Pro-Mistral-7B\&quot;&gt;Nous Researchâs Hermes 2 Pro&lt;/a&gt; fine-tuned version of Mistral 7B, &lt;a href=\&quot;https://huggingface.co/google/gemma-7b-it\&quot;&gt;Googleâs Gemma 7B&lt;/a&gt;, and &lt;a href=\&quot;https://huggingface.co/Nexusflow/Starling-LM-7B-beta\&quot;&gt;Starling-LM-7B-beta&lt;/a&gt; fine-tuned from OpenChat. There are currently 14 models that weâve curated with Hugging Face to be available for serverless GPU inference powered by Cloudflareâs Workers AI platform, with more coming soon. These models are all served using Hugging Faceâs technology with a &lt;a href=\&quot;https://github.com/huggingface/text-generation-inference/\&quot;&gt;TGI&lt;/a&gt; backend, and we work closely with the Hugging Face team to curate, optimize, and deploy these models.&lt;/p&gt;&lt;blockquote&gt;&lt;em&gt;âWe are excited to work with Cloudflare to make AI more accessible to developers. Offering the most popular open models with a serverless API, powered by a global fleet of GPUs is an amazing proposition for the Hugging Face community, and I canât wait to see what they build with it.â&lt;/em&gt;&lt;br&gt;- &lt;strong&gt;Julien Chaumond&lt;/strong&gt;, Co-founder and CTO, Hugging Face&lt;/blockquote&gt;&lt;p&gt;You can find all of the open models supported in Workers AI in this &lt;a href=\&quot;https://huggingface.co/collections/Cloudflare/hf-curated-models-available-on-workers-ai-66036e7ad5064318b3e45db6\&quot;&gt;Hugging Face Collection&lt;/a&gt;, and the âDeploy to Cloudflare Workers AIâ button is at the top of each model card. To learn more, read Hugging Faceâs &lt;a href=\&quot;http://huggingface.co/blog/cloudflare-workers-ai\&quot;&gt;blog post&lt;/a&gt; and take a look at our &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/\&quot;&gt;Developer Docs&lt;/a&gt; to get started. Have a model you want to see on Workers AI? Send us a message on &lt;a href=\&quot;https://discord.cloudflare.com\&quot;&gt;Discord&lt;/a&gt; with your request.&lt;/p&gt;&lt;h3 id=\&quot;supporting-fine-tuned-inferencebyo-loras\&quot;&gt;Supporting fine-tuned inference - BYO LoRAs&lt;/h3&gt;&lt;p&gt;Fine-tuned inference is one of our most requested features for Workers AI, and weâre one step closer now with Bring Your Own (BYO) LoRAs. Using the popular &lt;a href=\&quot;https://arxiv.org/abs/2106.09685\&quot;&gt;Low-Rank Adaptation&lt;/a&gt; method, researchers have figured out how to take a model and adapt &lt;em&gt;some&lt;/em&gt; model parameters to the task at hand, rather than rewriting &lt;em&gt;all&lt;/em&gt; model parameters like you would for a fully fine-tuned model. This means that you can get fine-tuned model outputs without the computational expense of fully fine-tuning a model.&lt;/p&gt;&lt;p&gt;We now support bringing trained LoRAs to Workers AI, where we apply the LoRA adapter to a base model at runtime to give you fine-tuned inference, at a fraction of the cost, size, and speed of a fully fine-tuned model. In the future, we want to be able to support fine-tuning jobs and fully fine-tuned models directly on our platform, but weâre excited to be one step closer today with LoRAs.&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;const response = await ai.run(\n  \&quot;@cf/mistralai/mistral-7b-instruct-v0.2-lora\&quot;, //the model supporting LoRAs\n  {\n      messages: [{\&quot;role\&quot;: \&quot;user\&quot;, \&quot;content\&quot;: \&quot;Hello world\&quot;],\n      raw: true, //skip applying the default chat template\n      lora: \&quot;00000000-0000-0000-0000-000000000\&quot;, //the finetune id OR name \n  }\n);\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;BYO LoRAs is in open beta as of today for Gemma 2B and 7B, Llama 2 7B and Mistral 7B models with LoRA adapters up to 100MB in size and max rank of 8, and up to 30 total LoRAs per account. As always, we expect you to use Workers AI and our new BYO LoRA feature with our &lt;a href=\&quot;https://www.cloudflare.com/service-specific-terms-developer-platform/#developer-platform-terms\&quot;&gt;Terms of Service&lt;/a&gt; in mind, including any model-specific restrictions on use contained in the modelsâ license terms. &lt;/p&gt;&lt;p&gt;Read the &lt;a href=\&quot;http://blog.cloudflare.com/fine-tuned-inference-with-loras\&quot;&gt;technical deep dive blog post&lt;/a&gt; and &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/fine-tunes\&quot;&gt;developer docs&lt;/a&gt; to get started.&lt;/p&gt;&lt;h3 id=\&quot;write-workers-in-python\&quot;&gt;Write Workers in Python&lt;/h3&gt;&lt;p&gt;Python is the second most popular programming language in the world (after JavaScript) and the language of choice for building AI applications. And starting today, in open beta, you can now &lt;a href=\&quot;https://ggu-python.cloudflare-docs-7ou.pages.dev/workers/languages/python/\&quot;&gt;write Cloudflare Workers in Python&lt;/a&gt;. Python Workers support all &lt;a href=\&quot;https://developers.cloudflare.com/workers/configuration/bindings/\&quot;&gt;bindings&lt;/a&gt; to resources on Cloudflare, including &lt;a href=\&quot;https://developers.cloudflare.com/vectorize/\&quot;&gt;Vectorize&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/d1/\&quot;&gt;D1&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/kv/\&quot;&gt;KV&lt;/a&gt;, &lt;a href=\&quot;https://developers.cloudflare.com/r2/\&quot;&gt;R2&lt;/a&gt; and more.&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;https://ggu-python.cloudflare-docs-7ou.pages.dev/workers/languages/python/packages/langchain/\&quot;&gt;LangChain&lt;/a&gt; is the most popular framework for building LLMâpowered applications, and like how &lt;a href=\&quot;http://blog.cloudflare.com/langchain-and-cloudflare\&quot;&gt;Workers AI works with langchain-js&lt;/a&gt;, the &lt;a href=\&quot;https://python.langchain.com/docs/get_started/introduction\&quot;&gt;Python LangChain library&lt;/a&gt; works on Python Workers, as do &lt;a href=\&quot;https://ggu-python.cloudflare-docs-7ou.pages.dev/workers/languages/python/packages/\&quot;&gt;other Python packages&lt;/a&gt; like FastAPI.&lt;/p&gt;&lt;p&gt;Workers written in Python are just as simple as Workers written in JavaScript:&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;from js import Response\n\nasync def on_fetch(request, env):\n    return Response.new(\&quot;Hello world!\&quot;)\n&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;â¦and are configured by simply pointing at a .py file in your &lt;code&gt;wrangler.toml&lt;/code&gt;: &lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;name = \&quot;hello-world-python-worker\&quot;\nmain = \&quot;src/entry.py\&quot;\ncompatibility_date = \&quot;2024-03-18\&quot;\ncompatibility_flags = [\&quot;python_workers\&quot;]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;There are no extra toolchain or precompilation steps needed. The &lt;a href=\&quot;https://pyodide.org/en/stable/\&quot;&gt;Pyodide&lt;/a&gt; Python execution environment is provided for you, directly by the Workers runtime, mirroring how Workers written in JavaScript already work.&lt;/p&gt;&lt;p&gt;Thereâs lots more to dive into â take a look at the &lt;a href=\&quot;https://ggu-python.cloudflare-docs-7ou.pages.dev/workers/languages/python/\&quot;&gt;docs&lt;/a&gt;, and check out our &lt;a href=\&quot;http://blog.cloudflare.com/python-workers\&quot;&gt;companion blog post&lt;/a&gt; for details about how Python Workers work behind the scenes.&lt;/p&gt;&lt;h2 id=\&quot;ai-gateway-now-supports-anthropic-azure-aws-bedrock-google-vertex-and-perplexity\&quot;&gt;AI Gateway now supports Anthropic, Azure, AWS Bedrock, Google Vertex, and Perplexity&lt;/h2&gt;&lt;figure class=\&quot;kg-card kg-image-card\&quot;&gt;&lt;img src=\&quot;http://blog.cloudflare.com/content/images/2024/04/image4-2.png\&quot; class=\&quot;kg-image\&quot; alt loading=\&quot;lazy\&quot; width=\&quot;1999\&quot; height=\&quot;653\&quot;&gt;&lt;/figure&gt;&lt;p&gt;Our &lt;a href=\&quot;http://blog.cloudflare.com/announcing-ai-gateway\&quot;&gt;AI Gateway&lt;/a&gt; product helps developers better control and observe their AI applications, with analytics, caching, rate limiting, and more. We are continuing to add more providers to the product, including Anthropic, Google Vertex, and Perplexity, which weâre excited to announce today. We quietly rolled out Azure and Amazon Bedrock support in December 2023, which means that the most popular providers are now supported via AI Gateway, including Workers AI itself. &lt;/p&gt;&lt;p&gt;Take a look at our &lt;a href=\&quot;https://developers.cloudflare.com/ai-gateway/\&quot;&gt;Developer Docs&lt;/a&gt; to get started with AI Gateway.&lt;/p&gt;&lt;h4 id=\&quot;coming-soon-persistent-logs\&quot;&gt;Coming soon: Persistent Logs&lt;/h4&gt;&lt;p&gt;In Q2 of 2024, we will be adding persistent logs so that you can push your logs (including prompts and responses) to object storage, custom metadata so that you can tag requests with user IDs or other identifiers, and secrets management so that you can securely manage your applicationâs API keys.&lt;/p&gt;&lt;p&gt;We want AI Gateway to be the control plane for your AI applications, allowing developers to dynamically evaluate and route requests to different models and providers. With our persistent logs feature, we want to enable developers to use their logged data to fine-tune models in one click, eventually running the fine-tune job and the fine-tuned model directly on our Workers AI platform. AI Gateway is just one product in our AI toolkit, but weâre excited about the workflows and use cases it can unlock for developers building on our platform, and we hope youâre excited about it too.&lt;/p&gt;&lt;h3 id=\&quot;vectorize-metadata-filtering-and-future-ga-of-million-vector-indexes\&quot;&gt;Vectorize metadata filtering and future GA of million vector indexes&lt;/h3&gt;&lt;p&gt;Vectorize is another component of our toolkit for AI applications. In open beta since September 2023, Vectorize allows developers to persist embeddings (vectors), like those generated from Workers AI &lt;a href=\&quot;https://developers.cloudflare.com/workers-ai/models/#text-embeddings\&quot;&gt;text embedding&lt;/a&gt; models, and query for the closest match to support use cases like similarity search or recommendations. Without a vector database, model output is forgotten and canât be recalled without extra costs to re-run a model.&lt;/p&gt;&lt;p&gt;Since Vectorizeâs open beta, weâve added &lt;a href=\&quot;https://developers.cloudflare.com/vectorize/reference/metadata-filtering/\&quot;&gt;metadata filtering&lt;/a&gt;. Metadata filtering lets developers combine vector search with filtering for arbitrary metadata, supporting the query complexity in AI applications. Weâre laser-focused on getting Vectorize ready for general availability, with an target launch date of June 2024, which will include support for multi-million vector indexes.&lt;/p&gt;&lt;pre&gt;&lt;code class=\&quot;language-js\&quot;&gt;// Insert vectors with metadata\nconst vectors: Array&amp;lt;VectorizeVector&amp;gt; = [\n  {\n    id: \&quot;1\&quot;,\n    values: [32.4, 74.1, 3.2],\n    metadata: { url: \&quot;/products/sku/13913913\&quot;, streaming_platform: \&quot;netflix\&quot; }\n  },\n  {\n    id: \&quot;2\&quot;,\n    values: [15.1, 19.2, 15.8],\n    metadata: { url: \&quot;/products/sku/10148191\&quot;, streaming_platform: \&quot;hbo\&quot; }\n  },\n...\n];\nlet upserted = await env.YOUR_INDEX.upsert(vectors);\n\n// Query with metadata filtering\nlet metadataMatches = await env.YOUR_INDEX.query(&amp;lt;queryVector&amp;gt;, { filter: { streaming_platform: \&quot;netflix\&quot; }} )\n&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=\&quot;the-most-comprehensive-developer-platform-to-build-ai-applications\&quot;&gt;The most comprehensive Developer Platform to build AI applications&lt;/h3&gt;&lt;p&gt;On Cloudflareâs Developer Platform, we believe that all developers should be able to quickly build and ship full-stack applications Â â and that includes AI experiences as well. With our GA of Workers AI, announcements for Python support in Workers, AI Gateway, and Vectorize, and our partnership with Hugging Face, weâve expanded the world of possibilities for what you can build with AI on our platform. We hope you are as excited as we are â take a look at all our &lt;a href=\&quot;https://developers.cloudflare.com\&quot;&gt;Developer Docs&lt;/a&gt; to get started, and &lt;a href=\&quot;https://discord.cloudflare.com/\&quot;&gt;let us know&lt;/a&gt; what you build.&lt;/p&gt;&quot;],&quot;comment_id&quot;:[0,&quot;660ab7c3a5fcdf000a08f29a&quot;],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/Cities-with-GPUs-momentum-update-1.png&quot;],&quot;featured&quot;:[0,false],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;created_at&quot;:[0,&quot;2024-04-01T14:33:55.000+01:00&quot;],&quot;updated_at&quot;:[0,&quot;2024-04-03T13:51:52.000+01:00&quot;],&quot;published_at&quot;:[0,&quot;2024-04-02T14:01:00.000+01:00&quot;],&quot;custom_excerpt&quot;:[0,&quot;Today, weâre excited to make a series of announcements, including Workers AI, Cloudflareâs inference platform becoming GA and support for fine-tuned models with LoRAs and one-click deploys from HuggingFace. Cloudflare Workers now supports the Python programming language, and more&quot;],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;custom_template&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;authors&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;64ee3d0e200174000a57bc51&quot;],&quot;name&quot;:[0,&quot;Michelle Chen&quot;],&quot;slug&quot;:[0,&quot;michelle&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2023/08/Michelle-Chen-Headshot.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@_mchenco&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/michelle/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5fda1fd0586dd703f3682fab&quot;],&quot;name&quot;:[0,&quot;Jesse Kipp&quot;],&quot;slug&quot;:[0,&quot;jesse&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/12/jesse-headshot-square.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/jesse/&quot;]}],[0,{&quot;id&quot;:[0,&quot;656a173fadf520000b2b3269&quot;],&quot;name&quot;:[0,&quot;Syona Sarma&quot;],&quot;slug&quot;:[0,&quot;syona&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2023/12/1516264359757.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/syona/&quot;]}],[0,{&quot;id&quot;:[0,&quot;630e8d075f22d3000b330256&quot;],&quot;name&quot;:[0,&quot;Brendan Irvine-Broque&quot;],&quot;slug&quot;:[0,&quot;brendan-irvine-broque&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2022/09/IMG_2312.JPG&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,&quot;Product Manager, Cloudflare Stream&quot;],&quot;website&quot;:[0,&quot;https://www.cloudflare.com/products/cloudflare-stream/&quot;],&quot;location&quot;:[0,&quot;Oakland, CA&quot;],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@irvinebroque&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/brendan-irvine-broque/&quot;]}],[0,{&quot;id&quot;:[0,&quot;6601caeca5fcdf000a08e35c&quot;],&quot;name&quot;:[0,&quot;Vy Ton&quot;],&quot;slug&quot;:[0,&quot;vy&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/03/headshot.png&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,&quot;Product Manager at Cloudflare.&quot;],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@vaiton13&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/vy/&quot;]}]]],&quot;tags&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;660b3bc7a5fcdf000a08f538&quot;],&quot;name&quot;:[0,&quot;#BLOG-2301&quot;],&quot;slug&quot;:[0,&quot;hash-blog-2301&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}],[0,{&quot;id&quot;:[0,&quot;607030964b1e0f03f340f2d8&quot;],&quot;name&quot;:[0,&quot;Developer Week&quot;],&quot;slug&quot;:[0,&quot;developer-week&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-week/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95204&quot;],&quot;name&quot;:[0,&quot;Developers&quot;],&quot;slug&quot;:[0,&quot;developers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2020/10/Developers-1.png&quot;],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,&quot;Cloudflare Blog: Developers&quot;],&quot;meta_description&quot;:[0,&quot;Collection of Cloudflare blog posts tagged &#39;Developers&#39;.&quot;],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65141c8a307c67000a55f0fd&quot;],&quot;name&quot;:[0,&quot;Workers AI&quot;],&quot;slug&quot;:[0,&quot;workers-ai&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/workers-ai/&quot;]}],[0,{&quot;id&quot;:[0,&quot;6326e5ac26789d000b270960&quot;],&quot;name&quot;:[0,&quot;General Availability&quot;],&quot;slug&quot;:[0,&quot;general-availability&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/general-availability/&quot;]}],[0,{&quot;id&quot;:[0,&quot;64a3e2b834124c000b00b717&quot;],&quot;name&quot;:[0,&quot;Developer Platform&quot;],&quot;slug&quot;:[0,&quot;developer-platform&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/developer-platform/&quot;]}],[0,{&quot;id&quot;:[0,&quot;5d16450341acde0011a95253&quot;],&quot;name&quot;:[0,&quot;Cloudflare Workers&quot;],&quot;slug&quot;:[0,&quot;workers&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;public&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/tag/workers/&quot;]}],[0,{&quot;id&quot;:[0,&quot;65c0d31851a92e000adeae66&quot;],&quot;name&quot;:[0,&quot;#front-page&quot;],&quot;slug&quot;:[0,&quot;hash-front-page&quot;],&quot;description&quot;:[0,null],&quot;feature_image&quot;:[0,null],&quot;visibility&quot;:[0,&quot;internal&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;og_image&quot;:[0,null],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,null],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;codeinjection_head&quot;:[0,null],&quot;codeinjection_foot&quot;:[0,null],&quot;canonical_url&quot;:[0,null],&quot;accent_color&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/404/&quot;]}]]],&quot;primary_author&quot;:[0,{&quot;id&quot;:[0,&quot;64ee3d0e200174000a57bc51&quot;],&quot;name&quot;:[0,&quot;Michelle Chen&quot;],&quot;slug&quot;:[0,&quot;michelle&quot;],&quot;profile_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2023/08/Michelle-Chen-Headshot.jpg&quot;],&quot;cover_image&quot;:[0,null],&quot;bio&quot;:[0,null],&quot;website&quot;:[0,null],&quot;location&quot;:[0,null],&quot;facebook&quot;:[0,null],&quot;twitter&quot;:[0,&quot;@_mchenco&quot;],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/author/michelle/&quot;]}],&quot;primary_tag&quot;:[0,null],&quot;url&quot;:[0,&quot;http://blog.cloudflare.com/workers-ai-ga-huggingface-loras-python-support/&quot;],&quot;excerpt&quot;:[0,&quot;Today, weâre excited to make a series of announcements, including Workers AI, Cloudflareâs inference platform becoming GA and support for fine-tuned models with LoRAs and one-click deploys from HuggingFace. Cloudflare Workers now supports the Python programming language, and more&quot;],&quot;reading_time&quot;:[0,9],&quot;access&quot;:[0,true],&quot;comments&quot;:[0,false],&quot;og_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/BLOG-2301-1.png&quot;],&quot;og_title&quot;:[0,null],&quot;og_description&quot;:[0,null],&quot;twitter_image&quot;:[0,&quot;http://blog.cloudflare.com/content/images/2024/04/BLOG-2301.png&quot;],&quot;twitter_title&quot;:[0,null],&quot;twitter_description&quot;:[0,null],&quot;meta_title&quot;:[0,null],&quot;meta_description&quot;:[0,null],&quot;email_subject&quot;:[0,null],&quot;frontmatter&quot;:[0,null],&quot;feature_image_alt&quot;:[0,&quot;Leveling up Workers AI: general availability and more new capabilities&quot;],&quot;feature_image_caption&quot;:[0,null]}]]],&quot;locale&quot;:[0,&quot;en-us&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Post&quot;,&quot;value&quot;:true}" await-children=""><script src="/js/prism.js"></script><main id="post" class="flex flex-row flex-wrap items-center justify-center pt2 pt4-l"><article class="post-full mw-100 ph3 ph0-l fs-20px"><h1 class="f6 f7-l fw4 gray1 pt1 pt3-l mb1">R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier</h1><p class="f3 fw5 gray5 db di-l mt2">04/03/2024</p><ul class="author-lists flex pl0 mt4"><li class="list flex items-center pr2 mb1-ns"><a href="/author/matt-deboard" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64/https://blog.cloudflare.com/content/images/2024/04/Screenshot-2024-04-01-at-3.49.38-PM.png" alt="Matt DeBoard" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/matt-deboard" class="fw4 f3 no-underline black mr3">Matt DeBoard</a></div></li><li class="list flex items-center pr2 mb1-ns"><a href="/author/siddhant" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64/https://blog.cloudflare.com/content/images/2024/04/10847515_814593145295983_4997633009117868228.jpg" alt="Siddhant Sinha" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/siddhant" class="fw4 f3 no-underline black mr3">Siddhant Sinha</a></div></li><li class="list flex items-center pr2 mb1-ns"><a href="/author/mengqi" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64/https://blog.cloudflare.com/content/images/2021/09/pic.jpg" alt="Mengqi Chen" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/mengqi" class="fw4 f3 no-underline black mr3">Mengqi Chen</a></div></li><li class="list flex items-center pr2 mb1-ns"><a href="/author/erin-thames" class="static-avatar pr1"><img class="author-profile-image br-100 mr2" src="https://blog.cloudflare.com/cdn-cgi/image/format=auto,dpr=3,width=64,height=64/https://blog.cloudflare.com/content/images/2024/04/profilepic2-2.jpg" alt="Erin Thames" width="62" height="62"/></a><div class="author-name-tooltip"><a href="/author/erin-thames" class="fw4 f3 no-underline black mr3">Erin Thames</a></div></li></ul><section class="post-full-content"><div class="mb2 gray5">4 min read</div><div class="post-content lh-copy gray1"><figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2024/04/image3-1.png" class="kg-image" alt="R2 adds event notifications, support for migrations from Google Cloud Storage, and an infrequent access storage tier" loading="lazy" width="1800" height="1013"></figure><p>Weâre excited to announce three new features for Cloudflare R2, our zero <a href="https://www.cloudflare.com/learning/cloud/what-are-data-egress-fees/">egress fee</a> <a href="https://www.cloudflare.com/learning/cloud/what-is-object-storage/">object storage</a> platform:</p><ul><li><a href="#event-notifications-open-beta">Event Notifications</a>: Automatically trigger Workers and take action when data in your R2 bucket changes.</li><li><a href="#super-slurper-for-google-cloud-storage">Super Slurper for Google Cloud Storage</a>: Easily migrate data from Google Cloud Storage to Cloudflare R2.</li><li><a href="#infrequent-access-private-beta">Infrequent Access Private Beta</a>: Pay less to store data that isnât frequently accessed. Now in private beta (<a href="https://forms.gle/hnwHFjaZktWyzmbd9">sign up now</a>).</li></ul><h2 id="event-notifications-open-beta">Event Notifications Open Beta</h2><figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2024/04/image1-1.png" class="kg-image" alt loading="lazy" width="1200" height="384"></figure><p>The lifecycle of data often doesnât stop immediately after upload to an R2 bucket â event data may need to be transformed and loaded into a data warehouse, media files may need to go through a post-processing step, etc. Weâre releasing event notifications for R2 in open beta to enable building applications and workflows driven by your changing data.</p><p>Event notifications work by sending messages to your <a href="https://developers.cloudflare.com/queues/">queue</a> each time there is a change to your data. These messages are then received by a <a href="https://developers.cloudflare.com/queues/get-started/#5-create-your-consumer-worker">consumer Worker</a> where you can then define any subsequent action that needs to be taken. </p><p>To get started enabling event notifications on your R2 bucket, you can run the following <a href="https://developers.cloudflare.com/workers/wrangler/">Wrangler</a> command (replacing bucket_name and queue_name with your bucket and queue names respectively):</p><pre><code>wrangler r2 bucket notification create &lt;bucket_name&gt; --event-type object-create --queue &lt;queue_name&gt;
</code></pre><p>For more information on how to set up event notifications on your R2 buckets today and limitations during beta, please refer to the <a href="https://developers.cloudflare.com/r2/buckets/event-notifications/">documentation</a>.</p><h2 id="super-slurper-for-google-cloud-storage">Super Slurper for Google Cloud Storage</h2><figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2024/04/image4-1.png" class="kg-image" alt loading="lazy" width="1999" height="677"></figure><p><a href="https://developers.cloudflare.com/r2/data-migration/super-slurper/">Super Slurper</a> can now migrate data from Google Cloud Storage (GCS) to <a href="https://developers.cloudflare.com/r2/">Cloudflare R2</a>. We released Super Slurper <a href="https://blog.cloudflare.com/r2-super-slurper-ga">last year</a> with the goal of making one-time comprehensive data migrations fast, reliable, and easy: thereâs no need to spin up migration VMs and implement complicated retry logic. Since then, thousands of developers have used Super Slurper to migrate petabytes of data from AWS S3 to R2. Now Google Cloud Storage customers can migrate data to Cloudflare R2 to benefit from Cloudflareâs zero egress fees, whether you are permanently moving data to another provider or not.</p><p>To get started migrating data from GCS:</p><ol><li>From the Cloudflare dashboard, select<strong> R2 &gt; Data Migration</strong>.</li><li>Select <strong>Migrate files</strong>.</li><li>Select <strong>Google Cloud Storage</strong> for the source bucket provider.</li><li>Enter your bucket name and associated credentials and select <strong>Next</strong>.</li><li>Enter your R2 bucket name and associated credentials and select <strong>Next</strong>.</li><li>After you finish reviewing the details of your migration, select <strong>Migrate files</strong>.</li></ol><p>You can view the status of your migration job at any time on the dashboard. For more information on how to use Super Slurper, please refer to the documentation <a href="https://developers.cloudflare.com/r2/data-migration/super-slurper/">here</a>.</p><h2 id="infrequent-access-private-beta">Infrequent Access Private Beta</h2><figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2024/04/image2-1.png" class="kg-image" alt loading="lazy" width="1999" height="898"></figure><p>Weâre excited to introduce the private beta of our new Infrequent Access storage class. For use cases that involve data that isnât frequently accessed (long tail user-generated content, logs, etc), Infrequent Access gives you the ability to pay less for storage while maintaining performance and durability.</p><p>Hereâs an example of how you can upload an object to your R2 bucket with the new Infrequent Access storage class using <a href="https://developers.cloudflare.com/workers/">Workers</a>:</p><pre><code class="language-js"># wrangler.toml
[[r2_buckets]]
binding = 'MY_BUCKET'
bucket_name = '&lt;YOUR_BUCKET_NAME&gt;'

# index.ts
export default {
   async fetch(request: Request, env: Env): Promise&lt;Response&gt; {
      if (request.method === "PUT") {
         await env.MY_BUCKET.put("myobject", request.body, storageClass: "InfrequentAccess");
         return new Response("Put object successfully!");
      }
      return new Response("Not a PUT!");
   }
}
</code></pre><p>In addition to uploading objects directly to Infrequent Access, you can define an <a href="https://developers.cloudflare.com/r2/buckets/object-lifecycles/">object lifecycle policy</a> to move data to Infrequent Access after a period of time goes by and you no longer need to access your data as often. In the future, we plan to automatically optimize storage classes for data so you can avoid manually creating rules and better adapt to changing data access patterns.</p><p>For data stored in the Infrequent Access storage class, the pricing components will be similar to <a href="https://developers.cloudflare.com/r2/pricing/">what youâre used to with R2</a>: storage, <a href="https://developers.cloudflare.com/r2/pricing/#class-a-operations">Class A operations</a> (writes, lists), <a href="https://developers.cloudflare.com/r2/pricing/#class-b-operations">Class B operations</a> (reads), and data retrieval (processing). Data retrieval is charged per GB when data in the Infrequent Access storage class is retrieved and is what allows us to provide storage at a lower price. It reflects the additional computational resources required to fetch data from underlying storage optimized for less frequent access. And when the time comes, and you do need to use your data, there are still no egress fees.</p><!--kg-card-begin: html--><style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-nltl{background-color:#f56b00;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" style="undefined;table-layout: fixed; width: 100%">
<colgroup>
<col style="width: 252px">
<col style="width: 201px">
</colgroup>
<thead>
  <tr>
    <th class="tg-nltl"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#FFF">Component</span></th>
    <th class="tg-nltl"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#FFF">Price</span></th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent">Storage</span></td>
    <td class="tg-0lax"><span style="font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent">$0.01 / GB-month</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent">Class A Operations</span></td>
    <td class="tg-0lax"><span style="font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent">$9.00 / million requests</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent">Class B Operations</span></td>
    <td class="tg-0lax"><span style="font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent">$0.90 / million requests</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent">Data Retrieval (Processing)</span></td>
    <td class="tg-0lax"><span style="font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent">$0.01 / GB</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span style="font-weight:700;font-style:normal;text-decoration:none;color:#000;background-color:transparent">Egress (or Data Transfer)</span></td>
    <td class="tg-0lax"><span style="font-weight:400;font-style:normal;text-decoration:none;color:#000;background-color:transparent">$0 - No Charge</span></td>
  </tr>
</tbody>
</table><!--kg-card-end: html--><h4 id="are-you-interested-in-participating-in-the-private-beta-for-infrequent-access">Are you interested in participating in the private beta for Infrequent Access?</h4><p><a href="https://forms.gle/hnwHFjaZktWyzmbd9">Join the private beta waitlist</a> to get access.</p><h3 id="have-any-feedback">Have any feedback?</h3><p>We would love to hear from you! To share your feedback about R2 and our data migration services, please join the <a href="https://discord.com/invite/cloudflaredev">Cloudflare Developer Discord</a>. If you're interested in learning more about R2, get started by visiting R2's <a href="https://developers.cloudflare.com/r2/">developer documentation</a> or see how much you could save with our <a href="https://r2-calculator.cloudflare.com/">pricing calculator</a>.</p></div></section><section class="post-full-content flex flex-row flex-wrap mw7 center mb4"><div class="post-content lh-copy w-100 gray1 bt b--gray8 pt4">We protect <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, help customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerate any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>ward off DDoS attacks</a>, keep <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href="https://www.cloudflare.com/careers" rel='noreferrer'>our open positions</a>.</div></section><div class="pv2 ph0-l mw7 center" id="social-buttons"><div class="mt5-l mt2 mb4 f2 flex flex-row-ns flex-column flex-wrap"><a id="social-button-hn" title="Discuss on Hacker News" href="https://news.ycombinator.com/submitlink?u=https://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access" target="_blank" rel="noreferrer" class="mr2-ns mb0-l white link b pv3 ph3 mb3 " style="background-color:#0055DC"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" class="mr2"><g><path d="M31,31v450h450V31H31z M270.1,287.6v94.9h-28.1v-94.9L165,143.5h31.9L256,254.3l59.1-110.8H347
C347,143.5,270.1,287.6,270.1,287.6z"></path></g></svg><span class="v-mid">Discuss on Hacker News</span></a></div></div><iframe sandbox="allow-scripts allow-popups" title="cloudflare-tv-live-link" id="cloudflare-tv-embed" src="https://cloudflare.tv/embed/live.html" loading="lazy"></iframe><a href="/tag/developer-week" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1">Developer Week</a><a href="/tag/developers" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1">Developers</a><a href="/tag/cloudflare-r2" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1">R2 Storage</a><a href="/tag/product-news" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1">Product News</a><a href="/tag/developer-platform" class="dib pl2 pr2 pt1 pb1 mb2 bg-gray8 no-underline blue3 f2 mr1">Developer Platform</a></article></main><div class="ph3 pv3"><div class=" flex flex-row flex-wrap mw7 center"><div class="w-100 bt b--gray8"><p class="black fw5 f4 mt4">Follow on X</p></div><div class="w-100 pb2"><span>Cloudflare</span><span class="ph2">|</span><a href="https://twitter.com/@cloudflare" class="no-underline">@cloudflare</a></div></div></div><div data-testid="related-posts-section" class="pv4 ph3 ph0-l flex flex-row flex-wrap mw7 center"><div class="w-100 bt b--gray8"><p class="orange fw5 f4 mt4 ttu">Related posts</p></div><article data-testid="related-posts-article" class="w-100 w-100-m w-50-l ph3 mb4"><p data-testid="related-posts-article-date" class="f3 fw5 gray5" data-iso-date="2024-04-03T14:03:09.000+01:00">April 03, 2024  1:03 PM</p><a data-testid="related-posts-article-title" href="/prisma-orm-and-d1" class="no-underline gray1 f4 fw5"><h2 class="gray1 f4 fw5 mt2">Improving Cloudflare Workers and D1 developer experience with Prisma ORM</h2></a><p data-testid="related-posts-article-excerpt" class="gray1 lh-copy">Together, Cloudflare and Prisma make it easier than ever to deploy globally available apps with a focus on developer experience. To further that goal, Prisma ORM now natively supports Cloudflare Workers and D1 in Preview<!-- -->...</p><ul class="flex pl0 fw6 f2 mb3 flex flex-wrap"><span>By<!-- -->Â </span><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/jon-guest" class="fw5 f2 black no-underline">Jon Harrell (Guest Author)</a></div></li></ul><div data-testid="related-posts-article-tags" class="flex flex-row flex-wrap"><span><a href="/tag/developer-week" class="no-underline f1 fw2 blue3 underline-hover">Developer Week<!-- -->,</a>Â </span><span><a href="/tag/developers" class="no-underline f1 fw2 blue3 underline-hover">Developers<!-- -->,</a>Â </span><span><a href="/tag/developer-platform" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform<!-- -->,</a>Â </span><span><a href="/tag/d1" class="no-underline f1 fw2 blue3 underline-hover">D1<!-- -->,</a>Â </span><span><a href="/tag/prisma" class="no-underline f1 fw2 blue3 underline-hover">Prisma<!-- -->,</a>Â </span><span><a href="/tag/partners" class="no-underline f1 fw2 blue3 underline-hover">Partners</a>Â </span></div></article><article data-testid="related-posts-article" class="w-100 w-100-m w-50-l ph3 mb4"><p data-testid="related-posts-article-date" class="f3 fw5 gray5" data-iso-date="2024-04-03T14:00:17.000+01:00">April 03, 2024  1:00 PM</p><a data-testid="related-posts-article-title" href="/data-anywhere-events-pipelines-durable-execution-workflows" class="no-underline gray1 f4 fw5"><h2 class="gray1 f4 fw5 mt2">Data Anywhere with Pipelines, Event Notifications, and Workflows</h2></a><p data-testid="related-posts-article-excerpt" class="gray1 lh-copy">Weâre making it easier to build scalable, reliable, data-driven applications on top of our global network, and so weâre announcing a new Event Notifications framework; our take on durable execution, Workflows; and an upcoming streaming ingestion service, Pipelines<!-- -->...</p><ul class="flex pl0 fw6 f2 mb3 flex flex-wrap"><span>By<!-- -->Â </span><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/silverlock" class="fw5 f2 black no-underline">Matt Silverlock</a></div></li></ul><div data-testid="related-posts-article-tags" class="flex flex-row flex-wrap"><span><a href="/tag/developer-week" class="no-underline f1 fw2 blue3 underline-hover">Developer Week<!-- -->,</a>Â </span><span><a href="/tag/developers" class="no-underline f1 fw2 blue3 underline-hover">Developers<!-- -->,</a>Â </span><span><a href="/tag/developer-platform" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform<!-- -->,</a>Â </span><span><a href="/tag/workers" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers<!-- -->,</a>Â </span><span><a href="/tag/cloudflare-r2" class="no-underline f1 fw2 blue3 underline-hover">R2 Storage</a>Â </span></div></article><article data-testid="related-posts-article" class="w-100 w-100-m w-50-l ph3 mb4"><p data-testid="related-posts-article-date" class="f3 fw5 gray5" data-iso-date="2024-04-03T14:00:02.000+01:00">April 03, 2024  1:00 PM</p><a data-testid="related-posts-article-title" href="/picsart-move-to-workers-huge-performance-gains" class="no-underline gray1 f4 fw5"><h2 class="gray1 f4 fw5 mt2">How Picsart leverages Cloudflare&#x27;s Developer Platform to build globally performant services</h2></a><p data-testid="related-posts-article-excerpt" class="gray1 lh-copy">Picsart, one of the worldâs largest digital creation platforms, encountered performance challenges in catering to its global audience. Adopting Cloudflare&#x27;s global-by-default Developer Platform emerged as the optimal solution, empowering Picsart to enhance performance and scalability substantially<!-- -->...</p><ul class="flex pl0 fw6 f2 mb3 flex flex-wrap"><span>By<!-- -->Â </span><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/mark-dembo" class="fw5 f2 black no-underline">Mark Dembo</a><span class="fw5 f2 black no-underline">,Â </span></div></li><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/shant" class="fw5 f2 black no-underline">Shant Marouti</a></div></li></ul><div data-testid="related-posts-article-tags" class="flex flex-row flex-wrap"><span><a href="/tag/guest-post" class="no-underline f1 fw2 blue3 underline-hover">Guest Post<!-- -->,</a>Â </span><span><a href="/tag/developer-week" class="no-underline f1 fw2 blue3 underline-hover">Developer Week<!-- -->,</a>Â </span><span><a href="/tag/developers" class="no-underline f1 fw2 blue3 underline-hover">Developers<!-- -->,</a>Â </span><span><a href="/tag/developer-platform" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform<!-- -->,</a>Â </span><span><a href="/tag/cloudflare-workers-kv" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers KV<!-- -->,</a>Â </span><span><a href="/tag/workers" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a>Â </span></div></article><article data-testid="related-posts-article" class="w-100 w-100-m w-50-l ph3 mb4"><p data-testid="related-posts-article-date" class="f3 fw5 gray5" data-iso-date="2024-04-02T14:01:00.000+01:00">April 02, 2024  1:01 PM</p><a data-testid="related-posts-article-title" href="/workers-ai-ga-huggingface-loras-python-support" class="no-underline gray1 f4 fw5"><h2 class="gray1 f4 fw5 mt2">Leveling up Workers AI: general availability and more new capabilities</h2></a><p data-testid="related-posts-article-excerpt" class="gray1 lh-copy">Today, weâre excited to make a series of announcements, including Workers AI, Cloudflareâs inference platform becoming GA and support for fine-tuned models with LoRAs and one-click deploys from HuggingFace. Cloudflare Workers now supports the Python programming language, and more<!-- -->...</p><ul class="flex pl0 fw6 f2 mb3 flex flex-wrap"><span>By<!-- -->Â </span><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/michelle" class="fw5 f2 black no-underline">Michelle Chen</a><span class="fw5 f2 black no-underline">,Â </span></div></li><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/jesse" class="fw5 f2 black no-underline">Jesse Kipp</a><span class="fw5 f2 black no-underline">,Â </span></div></li><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/syona" class="fw5 f2 black no-underline">Syona Sarma</a><span class="fw5 f2 black no-underline">,Â </span></div></li><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/brendan-irvine-broque" class="fw5 f2 black no-underline">Brendan Irvine-Broque</a><span class="fw5 f2 black no-underline">,Â </span></div></li><li class="list flex items-center" style="white-space:nowrap"><div class="author-name-tooltip"><a href="/author/vy" class="fw5 f2 black no-underline">Vy Ton</a></div></li></ul><div data-testid="related-posts-article-tags" class="flex flex-row flex-wrap"><span><a href="/tag/developer-week" class="no-underline f1 fw2 blue3 underline-hover">Developer Week<!-- -->,</a>Â </span><span><a href="/tag/developers" class="no-underline f1 fw2 blue3 underline-hover">Developers<!-- -->,</a>Â </span><span><a href="/tag/workers-ai" class="no-underline f1 fw2 blue3 underline-hover">Workers AI<!-- -->,</a>Â </span><span><a href="/tag/general-availability" class="no-underline f1 fw2 blue3 underline-hover">General Availability<!-- -->,</a>Â </span><span><a href="/tag/developer-platform" class="no-underline f1 fw2 blue3 underline-hover">Developer Platform<!-- -->,</a>Â </span><span><a href="/tag/workers" class="no-underline f1 fw2 blue3 underline-hover">Cloudflare Workers</a>Â </span></div></article></div><!--astro:end--></astro-island><footer class="pt4 pb4 pl1 pr1 main-footer"><div class="mw8 center dn db-l ph3"><div class="flex flex-row justify-between"><div class="main-footer__menu-group"><ul id="sales-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="sales-menu">Sales<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/enterprise/contact/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="enterprise_sales" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Enterprise Sales</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/partners/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="become_a_partner" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Become a Partner</a></li></ul><div><p class="tel f1 blue3 no-underline underline-hover"><a class="phone f1 blue3 no-underline underline-hover" href="https://www.cloudflare.com/plans/enterprise/contact/" target="_blank" rel="noreferrer">Contact Sales:</a></p><p><a data-i18n-phonenumber="" class="tel f1 blue3 no-underline underline-hover" dir="ltr" href="tel:+18889935273">+1 (888) 993-5273</a></p><noscript><a class="phone f1 blue3 no-underline underline-hover" href="tel:+16503198930">+1 650 319 8930</a></noscript></div></div><div class="main-footer__menu-group"><ul id="getting-started-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="getting-started-menu">Getting Started<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/plans/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="plans" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Pricing</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/case-studies/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="case_studies" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Case Studies</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/resources/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="white_papers" class="f1 blue3 no-underline underline-hover" rel="noreferrer">White Papers</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/webinars/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="webinars" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Webinars</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/learning/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="learning_center" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Learning Center</a></li></ul></div><div class="main-footer__menu-group"><ul id="community-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="community-menu">Community<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://community.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="community_hub" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Community Hub</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/galileo/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="galileo" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Project Galileo</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/athenian/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="athenian" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Athenian Project</a></li><li class="pt1 pb1"><a href="https://cloudflare.tv/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="tv" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare TV</a></li></ul></div><div class="main-footer__menu-group"><ul id="developers-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="developers-menu">Developers<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://developers.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="developer_hub" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Developer Hub</a></li><li class="pt1 pb1"><a href="https://discord.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="technical_resources" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Developers Discord</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/products/cloudflare-workers/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="cloudflare_workers" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare Workers</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/integrations/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="integrations" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Integrations</a></li></ul></div><div class="main-footer__menu-group"><ul id="company-menu" class="list pl0"><li class="pt1 pb1 f1" data-submenu="company-menu">Tools<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://radar.cloudflare.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare Radar</a></li><li class="pt1 pb1"><a href="https://speed.cloudflare.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Speed Test</a></li><li class="pt1 pb1"><a href="https://isbgpsafeyet.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Is BGP Safe Yet?</a></li><li class="pt1 pb1"><a href="https://rpki.cloudflare.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">RPKI Toolkit</a></li><li class="pt1 pb1"><a href="https://ct.cloudflare.com/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Certificate Transparency</a></li></ul></div><div class="main-footer__menu-group"><ul id="support-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="support-menu">Support<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://support.cloudflare.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="support" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Support</a></li><li class="pt1 pb1"><a href="https://www.cloudflarestatus.com" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="status" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Cloudflare Status</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/compliance/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="compliance" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Compliance</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/gdpr/introduction/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="gdpr" class="f1 blue3 no-underline underline-hover" rel="noreferrer">GDPR</a></li></ul></div><div class="main-footer__menu-group"><ul id="company-menu" class="list pl0"><li class="pt1 pb1 f1 main-footer__menu-group__header js-toggle-footer-group" data-submenu="company-menu">Company<i class="icon-caret-down"></i></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/about-overview/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="overview" class="f1 blue3 no-underline underline-hover" rel="noreferrer">About Cloudflare</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/people/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="our_team" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Our Team</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/press/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="press" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Press</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/analysts/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="analysts" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Analysts</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/careers/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="careers" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Careers</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/logo/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="logo" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Logo</a></li><li class="pt1 pb1"><a href="https://www.cloudflare.com/network/" target="_blank" data-tracking-category="footer" data-tracking-action="click" data-tracking-label="network_map" class="f1 blue3 no-underline underline-hover" rel="noreferrer">Network Map</a></li></ul></div></div></div><div class="mw8 center ph3"><div class="flex flex-row flex-wrap justify-between items-center pt4"><div class="flex flex-row items-start w-100 w-25-l pb4 pb0-l"><a target="_blank" rel="noreferrer" href="https://www.facebook.com/Cloudflare/" class="w-20"><img class="w-60" src="https://www.cloudflare.com/img/footer/facebook.svg" alt="facebook"/></a><a target=" _blank" rel="noreferrer" href="https://twitter.com/Cloudflare" class="w-20"><img class="w-60" src="https://www.cloudflare.com/img/footer/twitter.svg" alt="X"/></a><a target="_blank" rel="noreferrer" href="https://www.linkedin.com/company/cloudflare" class="w-20"><img class="w-60" src="https://www.cloudflare.com/img/footer/linkedin.svg" alt="linkedin"/></a><a target="_blank" rel="noreferrer" href="https://www.youtube.com/cloudflare" class="w-20"><img class="w-60" src="https://www.cloudflare.com/img/footer/youtube.svg" alt="youtube"/></a><a target="_blank" rel="noreferrer" href="https://www.instagram.com/cloudflare" class="w-20"><img class="w-60" src="https://www.cloudflare.com/img/footer/instagram.svg" alt="instagram"/></a></div><div class="w-100 w-70-l tr-l tl-ns"><div><span class="main-footer__copyright f1">Â© <!-- -->2024<!-- --> Cloudflare, Inc.<!-- --> </span><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/privacypolicy/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Privacy Policy<!-- --> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/website-terms/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Terms of Use<!-- --> </a><span class="main-footer__copyright f1">|</span><img class="mw2 ph1" src="/images/privacy-options.svg" alt="Privacy Options"/><a href="#cookie-settings" id="ot-sdk-btn" class="ot-sdk-show-settings main-footer__copyright f1 no-underline underline-hover"><span class="brandGray5">Cookie Preferences</span> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/abuse/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Trust &amp; Safety<!-- --> </a><span class="main-footer__copyright f1">|</span><a href="https://www.cloudflare.com/trademark/" target="_blank" class="main-footer__copyright f1 no-underline underline-hover" rel="noreferrer"> <!-- -->Trademark<!-- --> </a></div></div></div></div></footer></html>